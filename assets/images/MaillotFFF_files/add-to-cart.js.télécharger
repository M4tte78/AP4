function dataiadsAddToCart(){var e,t=new URLSearchParams(window.location.search),o=t.get("lpo-basket")==="add",i="https://lp.decathlon.fr/api/error/report",n=t.get("lpo-size");function a(e){var n={error:`${e} on ${location.toString()}`,service:"script-add-to-cart",version:"1.0"},t=new XMLHttpRequest;t.open("POST",i,!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(n))}function r(){var t,e=document.querySelector(".vtmn-sku-selector__wrapper>button");e&&e.click(),e=document.querySelector("#product-size-selection"),e&&(t=e.parentElement.querySelector("button"),t&&t.click())}function c(){if(document.querySelector(".vtmn-sku-selector__wrapper>button")||document.querySelector("#product-size-selection")){var e,t,s=document.querySelectorAll(".sku-selector .select>ul[role='listbox'] li");if(s.length)for(t=0;t<s.length;t++)if(e=s[t],e.querySelector(".size")&&e.querySelector(".size").textContent===n)return e.click(),!0}if(s=document.querySelectorAll(".vtmn-sku-selector__wrapper ul#listbox1 li"),s.length)for(t=0;t<s.length;t++)if(e=s[t],e.childNodes&&e.childNodes.length>0&&e.childNodes[0].nodeValue&&e.childNodes[0].nodeValue.trim()===n)return e.click(),!0;return!1}function l(){var n,e=document.querySelector("button.conversion-zone__purchase-cta");return e?e.click():(e=document.querySelector(".buying-zone button.cta"),e&&e.click()),n=t.get("lpo-transaction"),t.get("lpo-transaction")&&(document.cookie="lpo-transaction="+n),!0}e="CLICK_SELECT_SIZE",n||(e="CLICK_ADD_TO_CART");function d(){switch(e){case"CLICK_SELECT_SIZE":r(),e="SELECT_SIZE";break;case"SELECT_SIZE":c()?e="CLICK_ADD_TO_CART":e="END";break;case"CLICK_ADD_TO_CART":l()&&(e="END");break;default:break}}function u(){var e=t.get("lpo-transaction");return document.cookie.indexOf("lpo-transaction="+e)>=0}function s(){var t=setInterval(()=>{d(),e==="END"&&clearInterval(t)},50);setTimeout(()=>{clearInterval(t),a("couldn't add to cart")},1e3)}o&&!u()&&(document.readyState==="complete"?s():window.addEventListener("load",s))}setTimeout(dataiadsAddToCart,1e3)