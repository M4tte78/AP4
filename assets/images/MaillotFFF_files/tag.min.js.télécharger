/*! Copyright (c) 2024 Mediarithmics; All Rights Reserved */
(()=>{var n={2705:(e,t,n)=>{n=n(5639).Symbol;e.exports=n},6874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4636:(e,t,n)=>{var l=n(2545),d=n(5694),p=n(1469),h=n(4144),f=n(5776),g=n(6719),v=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n,o=p(e),r=!o&&d(e),i=!o&&!r&&h(e),s=!o&&!r&&!i&&g(e),a=o||r||i||s,c=a?l(e.length,String):[],u=c.length;for(n in e)!t&&!v.call(e,n)||a&&("length"==n||i&&("offset"==n||"parent"==n)||s&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||f(n,u))||c.push(n);return c}},4865:(e,t,n)=>{var r=n(9465),i=n(7813),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];s.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},9465:(e,t,n)=>{var o=n(8777);e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},4239:(e,t,n)=>{var o=n(2705),r=n(9607),i=n(2333),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(s&&s in Object(e)?r:i)(e)}},9454:(e,t,n)=>{var o=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==o(e)}},8458:(e,t,n)=>{var o=n(3560),r=n(5346),i=n(3218),s=n(1257),a=/^\[object .+?Constructor\]$/,c=Function.prototype,n=Object.prototype,c=c.toString,n=n.hasOwnProperty,u=RegExp("^"+c.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(o(e)?u:a).test(s(e))}},8749:(e,t,n)=>{var o=n(4239),r=n(1780),i=n(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!s[o(e)]}},313:(e,t,n)=>{var r=n(3218),i=n(5726),s=n(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t,n=i(e),o=[];for(t in e)("constructor"!=t||!n&&a.call(e,t))&&o.push(t);return o}},5976:(e,t,n)=>{var o=n(6557),r=n(5357),i=n(61);e.exports=function(e,t){return i(r(e,t,o),e+"")}},6560:(e,t,n)=>{var o=n(5703),r=n(8777),n=n(6557);e.exports=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:n},2545:e=>{e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},7518:e=>{e.exports=function(t){return function(e){return t(e)}}},8363:(e,t,n)=>{var u=n(4865),l=n(9465);e.exports=function(e,t,n,o){var r=!n;n=n||{};for(var i=-1,s=t.length;++i<s;){var a=t[i],c=o?o(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),(r?l:u)(n,a,c)}return n}},4429:(e,t,n)=>{n=n(5639)["__core-js_shared__"];e.exports=n},1463:(e,t,n)=>{var o=n(5976),c=n(6612);e.exports=function(a){return o(function(e,t){var n=-1,o=t.length,r=1<o?t[o-1]:void 0,i=2<o?t[2]:void 0,r=3<a.length&&"function"==typeof r?(o--,r):void 0;for(i&&c(t[0],t[1],i)&&(r=o<3?void 0:r,o=1),e=Object(e);++n<o;){var s=t[n];s&&a(e,s,n,r)}return e})}},8777:(e,t,n)=>{var o=n(852),n=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=n},1957:(e,t,n)=>{n="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=n},852:(e,t,n)=>{var o=n(8458),r=n(7801);e.exports=function(e,t){return t=r(e,t),o(t)?t:void 0}},9607:(e,t,n)=>{var o=n(2705),n=Object.prototype,i=n.hasOwnProperty,s=n.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{var o=!(e[a]=void 0)}catch(e){}var r=s.call(e);return o&&(t?e[a]=n:delete e[a]),r}},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},5776:e=>{var o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&-1<e&&e%1==0&&e<t}},6612:(e,t,n)=>{var r=n(7813),i=n(8612),s=n(5776),a=n(3218);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},5346:(e,t,n)=>{var n=n(4429),o=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var n=n(1957),t=t&&!t.nodeType&&t,o=t&&e&&!e.nodeType&&e,r=o&&o.exports===t&&n.process,n=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:r&&r.binding&&r.binding("util")}catch(e){}}();e.exports=n},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5357:(e,t,n)=>{var c=n(6874),u=Math.max;e.exports=function(i,s,a){return s=u(void 0===s?i.length-1:s,0),function(){for(var e=arguments,t=-1,n=u(e.length-s,0),o=Array(n);++t<n;)o[t]=e[s+t];for(var t=-1,r=Array(s+1);++t<s;)r[t]=e[t];return r[s]=a(o),c(i,this,r)}}},5639:(e,t,n)=>{var o=n(1957),n="object"==typeof self&&self&&self.Object===Object&&self,n=o||n||Function("return this")();e.exports=n},61:(e,t,n)=>{var o=n(6560),o=n(1275)(o);e.exports=o},1275:e=>{var i=Date.now;e.exports=function(n){var o=0,r=0;return function(){var e=i(),t=16-(e-r);if(r=e,0<t){if(800<=++o)return arguments[0]}else o=0;return n.apply(void 0,arguments)}}},1257:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},3045:(e,t,n)=>{var o=n(8363),r=n(1463),i=n(1704),r=r(function(e,t){o(t,i(t),e)});e.exports=r},5703:e=>{e.exports=function(e){return function(){return e}}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},2205:(e,t,n)=>{e.exports=n(3045)},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var o=n(9454),r=n(7005),n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,o=o(function(){return arguments}())?o:function(e){return r(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=o},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var o=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},4144:(e,t,n)=>{e=n.nmd(e);var o=n(5639),r=n(5062),n=t&&!t.nodeType&&t,t=n&&e&&!e.nodeType&&e,o=t&&t.exports===n?o.Buffer:void 0,o=o?o.isBuffer:void 0;e.exports=o||r},3560:(e,t,n)=>{var o=n(4239),r=n(3218);e.exports=function(e){return!!r(e)&&("[object Function]"==(e=o(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}},1780:e=>{e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,n)=>{var o=n(8749),r=n(7518),n=n(1167),n=n&&n.isTypedArray,o=n?r(n):o;e.exports=o},1704:(e,t,n)=>{var o=n(4636),r=n(313),i=n(8612);e.exports=function(e){return i(e)?o(e,!0):r(e)}},5062:e=>{e.exports=function(){return!1}},2707:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r,i,s,a,c,u,l=n(5737),d=n(7238),p=n(2461),h=n(6701),f=n(971),t=n(2228),o=o(n(3045)),n="mics_debug_tag",n="1"===(new h.Cache).get(n)||"1"===(0,t.readCookie)(n)||!1,g=(0,p.Console)("tag",n),p=window.navigator.userAgent;function v(e){return void 0!==e.context}function _(t){f.mics._names.forEach(function(e){t(e)})}function y(t){_(function(e){e=f.mics[e];v(e)&&t(e)})}/googlebot|bingbot|yandexbot|baiduspider/i.test(p)||(r=!1,i=(new Date).getTime(),new l.AdServer(n).setDFPTargeting(),l={_tagVersion:"2.0.20240105-build-136-rev-b04413b",_call:function(e,t,n){var o;o=e,f.mics._names.filter(function(e){e=f.mics[e];return v(e)&&(void 0!==e.options.site_token&&o===e.options.site_token||void 0!==e.options.datamart_token&&o===e.options.datamart_token)}).map(function(e){return f.mics[e]}).forEach(function(e){void 0!==e[t]&&e[t].apply(e,n)})},_setConfig:function(t){return y(function(e){return e.setConfig(t)})},_markConfigAsLoaded:function(){return y(function(e){return e.markConfigAsLoaded()})},_upsertAdvertisingCookie:function(t,n,o,r){return y(function(e){return e.upsertAdvertisingCookie(t,n,o,r)})},_declareAdvertisingCookieConsent:function(t){return y(function(e){return e.declareAdvertisingCookieConsent(t)})},_revokeAdvertisingCookieConsent:function(){return y(function(e){return e.revokeAdvertisingCookieConsent()})},_setEvaluator:function(t){return y(function(e){return e.setEvaluator(t)})},_setDeviceInfo:function(t){return y(function(e){return e.setDeviceInfo(t)})},_setSegmentDefinition:function(t){return y(function(e){return e.setSegmentDefinition(t)})},_setOperatorId:function(t,n){return y(function(e){return e.setOperatorId(t,n)})},_setUAID:function(n,o,r,i){return y(function(e){var t=i?new Date(i):new Date((new Date).getTime()+24*Math.min(180,e.options.cookie_max_age_in_days)*60*60*1e3);e._setUAID(n,o,r,t.toUTCString())})},_reset:function(e){r&&!e||(r=!0,g.info("mics.reset"),y(function(e){return e._reset()}),s._startTime=i)}},(s=f.mics)._tagVersion||(0,o.default)(s,l),c=n,u=(a=s)._queue,_(function(e){a[e]&&v(a[e])||(a[e]=new d.TagObject(e,c),window[e]=a[e])}),_(function(e){!function(e,t){var n=f.mics[e];for(;t.length;){var o=t.shift();o&&v(n)&&(g.debug("executing ",o,"on",e),n.callMicsMethod(o.method,o.args))}}(e,u[e])}),l={_call:l._call,_setConfig:l._setConfig,_markConfigAsLoaded:l._markConfigAsLoaded,_upsertAdvertisingCookie:l._upsertAdvertisingCookie,_setSegmentDefinition:l._setSegmentDefinition,_setDeviceInfo:l._setDeviceInfo,_setEvaluator:l._setEvaluator},window.mics=window.mics||{},(0,o.default)(window.mics,l),window.addEventListener&&window.addEventListener("beforeunload",function(){y(function(e){return e.pageQuit()})},!1))},5737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdServer=void 0;var o=n(6701),r=n(2461),n=(i.prototype.setDFPTargeting=function(){var n=this;try{window.googletag&&window.googletag.cmd?window.googletag.cmd.push(function(){var e=n.cache.get("mics_sgmts"),e=e&&"string"==typeof e?JSON.parse(e):void 0,t=e||{};Object.keys(t).forEach(function(e){window.googletag.pubads().setTargeting("mics_"+e,t[e].map(String))})}):this.console.info("DFP is not present")}catch(e){this.console.error("error setting DFP",e)}},i);function i(e){this.debug=e,this.cache=new o.Cache(!0),this.console=(0,r.Console)("AdServer",e),this.console.info("Starting Ad Server Connection")}t.AdServer=n},6701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0;var o=n(2461),n=(r.prototype.get=function(e){if(this.canUseLocalStorage)return window.localStorage.getItem(e)||void 0},r.prototype.store=function(e,t){this.canUseLocalStorage&&window.localStorage.setItem(e,t)},r.prototype.remove=function(e){this.canUseLocalStorage&&window.localStorage.removeItem(e)},r.prototype.isLocalStorageEnabled=function(){try{var e="is_enabled";return localStorage.setItem(e,"true"),"true"===localStorage.getItem(e)}catch(e){return this.debug&&console.log("localStorage is not enabled",e),!1}},r);function r(e){this.debug=!!e,this.console=(0,o.Console)(r.name,this.debug),this.canUseLocalStorage=this.isLocalStorageEnabled()}t.Cache=n},2461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Console=void 0;var a=n(971);t.Console=function(i,s){return function(e){var t,n={};for(t in e)n[e[t]]=function(r){return function(){if(s&&window.console&&Object.keys(window.console).includes(r))try{var e=Array.prototype.slice.apply(arguments),t=(new Date).getTime(),n=(0,a.durationFromSnippetStart)(t),o=n?n/1e3:0;e.unshift("ctx:".concat(i,"]")),e.unshift("[mics "+o.toFixed(3)+"s"),window.console[r].apply(window.console,e)}catch(e){window.console.log(e)}}}(e[t]);return n}("log debug info warn error".split(" "))}},2228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(t.updateCookiesExpiration=t.deleteCookie=t.deleteCookiesStartingWith=t.readCookie=void 0,n(2461).Console)("CookieHelper",!1);function o(e,t,n){if(void 0===n&&(n=!1),e&&t)for(var o=0,r=document.cookie.split(";");o<r.length;o++){var i=r[o].replace(/ /g,"").split("="),s=i[0],i=i[1];(!n&&s.startsWith(e)||s===e)&&(a.debug("update cookie",s,i),document.cookie=s+"="+i+";path=/;expires="+t)}}t.readCookie=function(e){for(var t=0,n=document.cookie.split(";");t<n.length;t++){var o=n[t].replace(/ /g,"").split("="),r=o[0],o=o[1];if(r===e)return a.debug("found cookie",r,o),o}},t.deleteCookiesStartingWith=function(e){var t=new Date;t.setTime(0),o(e,t.toUTCString())},t.deleteCookie=function(e){var t=new Date(0);t.setTime(0),a.debug("delete cookie",e),document.cookie=e+"=;path=/;expires="+t.toUTCString()},t.updateCookiesExpiration=o},517:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CookieMatcher=void 0;var r=n(5098),i=n(2461),s=o(n(4566)),a=o(n(9842)),n=(c.prototype.enableTcfForCookieMatching=function(e,t){this.UserChoiceHandler=e?new s.default(this.context,this.options.debug):new a.default,this.UserChoiceHandler.setParams(t)},c.prototype.setOperators=function(e){var t=this;this.operators=e.filter(function(e){return t.isConsent(e)})},c.prototype.end=function(){return this.gatherIdEnd},c.prototype.panicCallback=function(e){this.panicFn=e},c.prototype.setEtid=function(e){this.etid=e,this.finishIfPossible(!1)},c.prototype.isCookieMatchingAuthorizedByConsents=function(e){var t,n=null!==(t=null===(n=this.UserChoiceHandler)||void 0===n?void 0:n.areConsent(["mics"],[1,3]))&&void 0!==t&&t,e=null!==(e=!e||(null===(t=this.UserChoiceHandler)||void 0===t?void 0:t.areConsent([e],[])))&&void 0!==e&&e;return n&&e},c.prototype.disable=function(){this.finishIfPossible=function(){},this.gatherOperatorsIds=function(){},this.destroy()},c.prototype.destroy=function(){window.clearTimeout(this.watchDog)},c);function c(e,t){var o=this;this.isConsent=function(e){var t;return null===(t=o.UserChoiceHandler)||void 0===t?void 0:t.areConsent(["mics",e],[])},this.gatherOperatorsIds=function(){o.console.info("gatherOperatorsIds",o.operators),o.operators.forEach(function(e){return o.gatherId(e)}),0<o.timeout&&(o.watchDog=window.setTimeout(function(){o._timeout()},o.timeout))},this.getConsentUrlQueryStrings=function(){var e,n=null===(e=o.UserChoiceHandler)||void 0===e?void 0:e.getProperties();return n?Object.keys(n).reduce(function(e,t){return"".concat(e,"&").concat(t,"=").concat(n[t])},""):""},this.gatherId=function(t){var e="".concat(o.options.gather_operator_id_url,"?opid=").concat(t)+o.getConsentUrlQueryStrings();o.options.override_transport&&o.options.override_transport(e),(0,r.loadScript)(e,function(e){e&&(o.console.info("error while gather_id",t),o.setOperatorId(t,null))})},this.setOperatorId=function(e,t){o.isCookieMatchingAuthorizedByConsents(e)&&(t?o.retrievedIds.includes(t)||(o.console.log("setId("+e+", "+t+")"),o.retrievedIds.push(t),o.finished=o.retrievedIds.length===o.operators.length,o.finishIfPossible(!1)):o.finishIfPossible(!1))},this.finishIfPossible=function(e){var t;o.console.log("try to finish, panicMode:",e,"etid:",o.etid,"finished",o.finished),(o.finished||e)&&(o.gatherIdEnd=(new Date).getTime(),t=[],o.retrievedIds.forEach(function(e){return t.push(e)}),o.console.log("finishing."),e=o.options.cookie_matching_url+"?utidl="+t.join(","),o.etid&&(e=e+"&etid="+o.etid),e+=o.getConsentUrlQueryStrings(),o.options.site_token&&(e=e+"&$site_token="+o.options.site_token),o.options.datamart_token&&(e=e+"&$dat_token="+o.options.datamart_token),o.options.override_transport&&o.options.override_transport(e),(0,r.loadScript)(e,function(e){e&&o.panicFn&&(o.console.info("failed to load get_id"),o.panicFn("$get_id_failed"))}),o.ran=!0,o.destroy())},this._timeout=function(){o.isCookieMatchingAuthorizedByConsents()?o.finishIfPossible(!0):o.destroy()},this.finished=!1,this.context=t,this.ran=!1,this.operators=[],this.retrievedIds=[],this.timeout=e.gather_id_timeout_ms,this.watchDog=void 0,this.options=e,this.console=(0,i.Console)("CookieMatcher",e.debug)}t.CookieMatcher=n},4471:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentPage=void 0;var i=n(2228),s=n(346),a=r(n(4566)),c=r(n(9842)),n=(u.prototype._parseSearch=function(e){var t,n,e=e.substring(1).split("&"),o={};return e.forEach(function(e){n=e.split("="),t=n[0],n=n[1],o[t]=decodeURIComponent(n).replace(/\+/g," ")}),o},u.prototype.markConfigAsLoaded=function(){this.confLoaded=!0},u.prototype.isConfLoaded=function(){return this.confLoaded},u.prototype.readPage=function(){this.updatePage(),!this.options.local_cookie_name||(e=(0,i.readCookie)(this.options.local_cookie_name))&&(this.properties.raw_cookie=e);var e=(0,i.readCookie)("mics_uaid");e&&(this.properties.$uaid=e);e=(0,i.readCookie)("mics_vid");e&&this.userIdentifierHolder.addUserAgentIdentifier(e);e=(0,i.readCookie)("mics_lts"),e=e&&parseInt(e,10);e&&!isNaN(e)&&(this.properties.$lts=e)},u.prototype.updatePage=function(){this.properties.$referrer=document.referrer,this.properties.$url=""+document.location,this._setUtm(),this._setGdpr()},u.prototype._setUtm=function(){var t=this,e="utm_source utm_medium utm_term utm_content utm_campaign".split(" "),n=this._parseSearch(window.location.search);e.forEach(function(e){n[e]&&(t.properties["$"+e]=n[e])})},u.prototype._setGdpr=function(){window[s.API_KEY]&&(this.properties.$tcfapi=1);var n=this.UserChoiceHandler.getProperties(),e=Object.keys(n).reduce(function(e,t){return o(o({},e),((e={})["$"+t]=n[t],e))},{});this.properties=o(o({},this.properties),e)},u.prototype.getVid=function(){return this.userIdentifierHolder.findVectorIdLongValue()},u.prototype.getLts=function(){return this.properties.$lts},u.prototype.getCookie=function(){return this.properties.$uaid},u.prototype.updateUAID=function(e,t,n){e&&(this.userIdentifierHolder.addUserAgentIdentifier(e),document.cookie="mics_vid="+encodeURIComponent(e)+";expires="+n+";path=/"),t&&(this.properties.$lts=t,document.cookie="mics_lts="+encodeURIComponent(t)+";expires="+n+";path=/")},u.prototype.clearUAID=function(){(0,i.deleteCookie)("mics_vid"),(0,i.deleteCookie)("mics_lts")},u);function u(e,t,n,o){var r=this;this.setParams=function(e){r.UserChoiceHandler.setParams(e)},this.properties={},this.options=e,this.confLoaded=!1,this.userIdentifierHolder=t,this.UserChoiceHandler=window[s.API_KEY]?new a.default(n,o):new c.default}t.CurrentPage=n},8146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventPusher=t.DEVICE_TECHNICAL_ID_MAPPING_EVENT_NAME=void 0;var c=n(2461),o=n(5098),s=n(971);function a(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}t.DEVICE_TECHNICAL_ID_MAPPING_EVENT_NAME="$device_technical_id_mapping";r.prototype.observerName=function(){return"EventPusher-"+this.context},r.prototype.sendCallQueue=function(e,t){for(var n=this.callQueue,o=t||{};n.length;){var r=(0,s.durationFromSnippetStart)((new Date).getTime());r&&(o.$delay={$push:r,$start:(0,s.durationFromSnippetStart)(this.tagStart),$gather_id_end:(0,s.durationFromSnippetStart)(this.cookieMatcher.end()),$beacon:e===this.beacon});var i=a(i=n.shift()||{},this.globalProperties);i=a(i,o),i=a(i,this.userIdentifierHolder.getEventPusherProperties()),this.console.info("pushing",i);r=this.endPointUrl+"?"+this.generateHttpQuery(i);this.eventsRunning++,this.eventsSent++,e(r,this.pixelSentCallback(this)),this.userPoint&&this.userPoint.addEvent(i)}this.panicMode||(this.console.info("complete before panicMode, clearing watchDog"),this.clearWatchDog())},r.prototype.disable=function(){this.disabled=!0,this.canTriggerCalls=function(){return!1},this.triggerCallsIfPossible=function(){},this.clearWatchDog(),this.beacon=function(){}},r.prototype.clearWatchDog=function(){this.watchDog&&(this.console.log("clearing watchdog"),window.clearTimeout(this.watchDog),this.watchDog=void 0)},r.prototype.setPanicCallback=function(e){this.panicFn=e},r.prototype.canTriggerCalls=function(){return this.currentPage&&this.currentPage.isConfLoaded()&&this.userIdentifierHolder.hasIdentifiers()||this.panicMode},r.prototype.triggerCallsIfPossible=function(){var e;this.console.info("trigger calls if possible: currentPage:",this.currentPage,"panicMode:",this.panicMode,", global:",this.globalProperties,"callQueue:",this.callQueue,"userIdentfiers:",this.userIdentifierHolder.userIdentifiers(),"getEventPusherProperties:",this.userIdentifierHolder.getEventPusherProperties(),"isPossible:",this.canTriggerCalls()),this.canTriggerCalls()&&(e={},this.panicMode&&this.panicReason&&(e.$error=this.panicReason),this.sendCallQueue(this.transportFunction||o.sendWithBeaconOrWithLoadPixel,e))},r.prototype.onNewIdentifier=function(e){0<this.eventsSent?this.push(t.DEVICE_TECHNICAL_ID_MAPPING_EVENT_NAME,e.toMappingEvent()):this.triggerCallsIfPossible()},r.prototype.onRemovedIdentifier=function(e){},r.prototype.setUserpoint=function(e){this.userPoint=e},r.prototype.pixelSentCallback=function(n){return function(e,t){if(e?(n.eventsRunning--,n.console.info("error with",e)):(n.console.info("successfully sent",t),n.eventsRunning--),n.finishedCallbackFunction&&0===n.eventsRunning){n.console.info("calling callback function: eventsRunning:",n.eventsRunning,"errors:",n.errorEvents);try{n.finishedCallbackFunction.apply(0===n.errorEvents.length)}catch(e){n.console.error("error has occurred while calling callback function",e)}}}},r.prototype.pushDefault=function(){this.push("$page_view",void 0)},r.prototype.push=function(e,t){if(!this.currentPage)throw new Error("mics is not initialized, call mics.init(YOUR_TOKEN) first !");t=t||{},this.currentPage.properties.path!=document.location&&this.currentPage.updatePage(),(t=a(t,this.currentPage.properties)).$ev=e,this.callQueue.push(t),this.triggerCallsIfPossible()},r.prototype.addProperties=function(e){this.globalProperties=a(this.globalProperties,e),this.console.info("properties: ",this.globalProperties)},r.prototype.generateHttpQuery=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&"object"!=typeof e[t]?n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t])):"object"==typeof e[t]&&"object"==typeof JSON&&n.push(encodeURIComponent(t)+"=jso-"+encodeURIComponent(JSON.stringify(e[t])));return n.join("&")},r.prototype.panic=function(e){this.console.info("switching to panic mode ! reason:",e),this.panicMode=!0,this.panicReason=e,this.triggerCallsIfPossible()},r.prototype.onFinish=function(e,t){this.finishedCallbackFunction=e,this.setWatchDog(t)},r.prototype.beacon=function(e){navigator.sendBeacon(e)},r.prototype.pageQuit=function(){if(!this.disabled){for(this.console.log("page is unloading"),this.console.log("send call queue with navigator.beacon ("+this.errorEvents.length+" events)");this.errorEvents.length;)this.beacon(this.errorEvents.shift());0<this.eventsRunning&&this.push("$quit_while_running",void 0),this.sendCallQueue(this.beacon,{$error:"page_quit"})}},n=r;function r(e,t,n,o,r,i,s){var a=this;this.callQueue=[],this.disabled=!1,this.setWatchDog=function(e){a.console.info("setup watchdog timer to ",e),a.clearWatchDog(),a.watchDog=setTimeout(function(){a.panic("$count_down_1")},e)},this.context=e,this.console=(0,c.Console)("EventPusher-"+e,i.debug),this.console.info("new EventPusher()"),this.callQueue=[],this.currentPage=n,this.transportFunction=i.overrideTransport,this.cookieMatcher=o,this.userPoint=r,this.tagStart=t,this.globalProperties={},this.eventsRunning=0,this.eventsSent=0,this.endPointUrl=i.endPointUrl,this.panicMode=!1,this.errorEvents=[],this.options=i,this.userIdentifierHolder=s}t.EventPusher=n},4836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processExternalFeedsWith=t.processExternalFeeds=void 0;var s=n(5098),r=864e5;function a(e){var n={s:(e=e).s,hc:e.hc,c:e.c,p:e.p||r,st:e.st,dn:e.dn,cb:function(e){if(e&&"function"==typeof e)return e;return function(e,t){}}(e.cb),uaid:e.uaid,ot:e.ot},o=JSON.parse(n.s.getItem("_mediarithmics")),e=(o=o||{})[n.st];(!e||n.c.now()-e.lastFeedRefreshDate>n.p)&&(e="https://"+n.dn+"/v1/sites/"+n.st+"/external_feeds",n.uaid&&(e=e+"?"+encodeURIComponent("$uaid")+"="+encodeURIComponent(n.uaid)),(n.ot||n.hc.get)(e,function(e,t){e?n.cb(e,null):!function(e){try{var t=JSON.parse(e);return Array.isArray(t.scripts)&&Array.isArray(t.feeds)}catch(e){return!1}}(t)?n.cb(null,t):(t=JSON.parse(t),o[n.st]={lastFeedRefreshDate:n.c.now()},n.s.setItem("_mediarithmics",JSON.stringify(o)),t.scripts.map(function(e){var t;"INLINE"===e.type?((t=document.createElement("script"))[void 0===t.innerText?"textContent":"innerText"]=e.inner,document.head.appendChild(t)):"SRC"===e.type?((t=document.createElement("script")).src=e.source,document.head.appendChild(t)):"IMG"===e.type&&n.hc.loadPixel(e.source,void 0)}),n.cb(null,t.feeds))}))}t.processExternalFeeds=function(e,t,n,o,r,i){a({s:window.localStorage?localStorage:{setItem:function(e,t){return null},getItem:function(e){return null}},hc:{get:s.get,loadPixel:s.loadPixel},c:Date,p:e,st:t,dn:n,cb:o,uaid:r,ot:i})},t.processExternalFeedsWith=a},971:function(e,t){"use strict";var n=this&&this.__rest||function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.durationFromSnippetStart=t.mics=void 0;var o,r=window.scimhtiraidem;if(!(r=!window.scimhtiraidem&&window.mics&&void 0!==window.mics._snippetVersion?{_queue:{mics:(o=window.mics)._queue},_names:["mics"],_snippetVersion:o._snippetVersion,_startTime:o._startTime,mics:n(o,["_queue","_snippetVersion","_startTime"])}:r))throw new Error("mics is not defined. Did you used the provided snippet ?");var i=r;t.mics=i,window.scimhtiraidem=i,t.durationFromSnippetStart=function(e){return e&&i&&e-i._startTime}},8902:function(e,n,t){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,r)}i((c=c.apply(e,s||[])).next())})},i=this&&this.__generator||function(n,o){var r,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],i=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ID5_REGISTRY_KEY=n.ID5_CONFIG_OVERRIDE_STORAGE_KEY=n.MICS_PARTNER_ID=n.ID5_CDN_URL=void 0;var s=t(5098),a=t(2461),c=t(6701);n.ID5_CDN_URL="https://cdn.id5-sync.com/api/1.0/id5-api.js",n.MICS_PARTNER_ID=18,n.ID5_CONFIG_OVERRIDE_STORAGE_KEY="mics_id5_config_override",n.ID5_REGISTRY_KEY=4;u.prototype.loadId5ApiJs=function(){return r(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(this.id5Api)];case 1:if(e.sent())return[3,5];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,(0,s.loadScriptAsync)(n.ID5_CDN_URL)];case 3:return e.sent(),this.console.info("Loaded ".concat(n.ID5_CDN_URL)),this.id5Api=window.ID5,[3,5];case 4:return t=e.sent(),this.console.error("Could not load ID5 API",t),[3,5];case 5:return this.id5Api&&this.id5Api.loaded!==this.id5ApiLoadedAndReady&&(this.console.info("ID5.loaded=".concat(this.id5Api.loaded)),this.id5ApiLoadedAndReady=this.id5Api.loaded),[2]}})})},u.prototype.getID5ConfigOverride=function(){var t=this.cache.get(n.ID5_CONFIG_OVERRIDE_STORAGE_KEY);if(t)try{var e=JSON.parse(t);return this.console.log("ID5 config override found : ".concat(JSON.stringify(t))),e}catch(e){this.console.error("Cannot parse ID5 config override : ".concat(t))}return{}},u.prototype.initializeApi=function(){var e,t=this;!this.id5Status&&this.id5Api&&this.id5ApiLoadedAndReady&&(e=o(o({partnerId:n.MICS_PARTNER_ID},this.initialId5ApiConfig||{}),this.getID5ConfigOverride()),this.console.info("Initialize ID5 Api with config ".concat(JSON.stringify(e))),this.id5Api.debug=this.debug,this.id5Status=this.id5Api.init(e).onUpdate(function(e){t.console.log("ID5 ID updated callback",e),t.setId5UniversalId(e.getUserId())}),this.id5Status||this.console.warn("ID5 Api not initialized"))},u.prototype.setId5UniversalId=function(e){e&&"0"!==e&&(this.console.info("Setting ID5 Id = ".concat(e)),this.id5UniversalId=e,e="net:".concat(n.ID5_REGISTRY_KEY,":").concat(e),this.userIdentifierHolder.addUserAgentIdentifier(e))},u.prototype.startGathering=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.console.info("Start gathering ID5 Id"),[4,this.loadId5ApiJs()];case 1:return e.sent(),this.initializeApi(),[2]}})})},t=u;function u(e){this.id5ApiLoadedAndReady=!1;var t=e.context,n=e.userIdentifierHolder,o=e.debug,e=e.initialId5ApiConfig;this.debug=o,this.userIdentifierHolder=n,this.console=(0,a.Console)("ID5IdGatherer-".concat(t),o),this.initialId5ApiConfig=e,this.cache=new c.Cache(o),this.id5Api=window.ID5,this.startGathering()}n.default=t},5098:(e,t)=>{"use strict";function n(t,n){var e=document.createElement("img");e.style.display="none",e.style.width=e.style.height="0px",n&&(e.onload=function(){n(void 0,t)},e.onerror=function(){var e=new Error("error while loading "+t);n(e,t)}),e.setAttribute("src",t)}function r(t,n){var e,o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),o.setAttribute("async","true"),n&&(o.onload=function(){n(void 0,t)},o.onerror=function(){var e=new Error("error while loading "+t);n(e,void 0)}),null!==(e=document.getElementsByTagName("script")[0].parentNode)&&void 0!==e&&e.appendChild(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.sendWithBeaconOrWithLoadPixel=t.get=t.loadScriptAsync=t.loadScript=t.loadPixel=void 0,t.loadPixel=n,t.loadScript=r,t.loadScriptAsync=function(e){return new Promise(function(n,o){r(e,function(e,t){e&&o(e),n()})})},t.get=function(t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){var e;4===o.readyState&&(200===o.status?n(void 0,o.responseText):(e=new Error("error while GETting: "+t),n(e,void 0)))},o.open("GET",t,!0),o.withCredentials=!0,o.send(null)},t.sendWithBeaconOrWithLoadPixel=function(e,t){if(!navigator.sendBeacon)return n(e,t);t(navigator.sendBeacon(e)?void 0:new Error("Error while calling "+e+"with sendBeacon()"),e)}},7238:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,r)}i((c=c.apply(e,s||[])).next())})},s=this&&this.__generator||function(n,o){var r,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],i=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TagObject=void 0;var c=n(6701),a=n(517),u=n(2461),l=n(4471),d=n(5098),p=n(8146),h=n(4836),f=n(971),g=n(8713),v=n(2228),_=o(n(2205)),y=o(n(8902)),m=o(n(4951)),b=n(9124);function I(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var n="https://cookie-matching.mediarithmics.com",E="mics_user_consent",C="mics_consent_ts",O="mics_",w=["VISIT","TOUCH"],S=(new Date).getTime(),P={domain_id:1,cookie_matching_url:n+"/v1/getids",gather_operator_id_url:n+"/v1/gather_id",get_id_path:"/v1/get_id",domain_name:"events.mediarithmics.com",protocol:"https://",events_path:"/v1/visits/pixel",config_server_path:"/v1/conf.js",cookie_max_age_in_days:180,cookie_refresh_in_days:10,local_cookie_name:void 0,gather_id_timeout_ms:2e3,global_timeout_ms:3e3,debug:!1,mode:"VISIT",initialized:!1},n=(A.prototype.fetchConfig=function(){var e="";this.options.site_token?e="?$site_token="+this.options.site_token+"&cb="+Date.now():this.options.datamart_token&&(e="?$dat_token="+this.options.datamart_token+"&cb="+Date.now());e=this.options.protocol+this.options.domain_name+this.options.config_server_path+e;this.options.confjs_mock_params&&(e=e+"&"+this.options.confjs_mock_params),(0,d.loadScript)(e)},A.prototype.fetchScriptFromUri=function(e){(0,d.loadScript)(this.options.protocol+this.options.domain_name+e)},A.prototype.fetchScriptFromUrl=function(e){(0,d.loadScript)(e)},A.prototype.addPixel=function(e){e=this.options.protocol+this.options.domain_name+e;this.console.debug("Will load pixelUrl ".concat(e)),this.options.override_transport?this.options.override_transport(e):(0,d.loadPixel)(e)},A.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Array.prototype.slice.apply(t).splice(0);this.callMicsMethod(e,o)},A.prototype.callMicsMethod=function(e,t){["init","call","config","push","pushDefault","addIdentifier","addProperties","addProperty","onFinish","onStart","_reset","syncFeeds"].includes(e)?this[e].apply(this,t):this.console.error("The method '"+e+"' is not supported.")},A.prototype.onStart=function(e){e&&e.apply()},A.prototype.setOperatorId=function(e,t){this.cookieMatcher&&this.cookieMatcher.setOperatorId(e,t)},A.prototype.getParamOrElse=function(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:n},A.prototype.getTagConfigOverride=function(){var t=this.cache.get("mics_tag_config_override");if(t)try{var e=JSON.parse(t);return this.console.log("Tag Config override found : ".concat(JSON.stringify(e))),e}catch(e){this.console.error("Cannot parse tag config override : ".concat(t))}return{}},A.prototype.getTagOptionsOverride=function(){var t=this.cache.get("mics_tag_options_override");if(t)try{var e=JSON.parse(t);return this.console.log("Tag options override found : ".concat(JSON.stringify(e))),e}catch(e){this.console.error("Cannot parse tag options override : ".concat(t))}return{}},A.prototype.setConfig=function(e){var t,n,o=this;this.options.initialized?void 0!==this.options.site_token&&e.site_token===this.options.site_token||void 0!==this.options.datamart_token&&e.dat_token===this.options.datamart_token?(this.console.info("Applying config for site token ".concat(this.options.site_token)),n=r(r({},e),this.getTagConfigOverride()),this.currentPage&&(this.console.info("setConfig",n),n.audience_feeds_refresh_period&&this.addProperties({$audience_feeds_refresh_period:n.audience_feeds_refresh_period}),this.enableMumId=this.getParamOrElse(n,"enable_mum_id",!0),this.enable_local_segment_evaluation=this.getParamOrElse(n,"enable_local_segment_evaluation",!1),this.deviceIdRegistryTokenToIdMap=this.getParamOrElse(n,"device_id_registry_token_to_id_map",{}),this.namespace=n.namespace||"",this.segment_evaluator_uri=n.segment_evaluator_uri||"",this.segment_evaluator_url=n.segment_evaluator_url||"",this.segment_definition_url=n.segment_definition_url||"",this.segment_definition_uri=n.segment_definition_uri||"",this.enableGOOMatching=this.enableMumId&&this.getParamOrElse(n,"enable_goo_matching",!0),this.enableAPXMatching=this.enableMumId&&this.getParamOrElse(n,"enable_apx_matching",!0),this.enableTcfForCookieMatching=this.getParamOrElse(n,"enable_tcf_v2_for_cookie_matching",!1),this.cmpIds=this.getParamOrElse(n,"cmp_ids",[]),null!==(t=this.cookieMatcher)&&void 0!==t&&t.enableTcfForCookieMatching(this.enableTcfForCookieMatching,this.getUserChoiceParams()),this.enableID5=this.getParamOrElse(n,"enable_id5",!1),this.enableID5&&(this.eventPusher?this.id5IdGatherer=new y.default({context:this.context,userIdentifierHolder:this.userIdentifierHolder,debug:this.debug,initialId5ApiConfig:this.getParamOrElse(n,"id5-init-config-override",{})}):this.console.warn("enable_id5 is true but eventPusher is null, cannot start id5 gathering")),this.enableMumId?this.onUserChoiceGiven(["mics"],[],function(){o.fetchUAID()},function(){var e;null!==(e=o.currentPage)&&void 0!==e&&e.clearUAID(),o.set=!1}):this.fetchUAID(),this.enable_local_segment_evaluation&&(this.userpoint=new g.UserPoint(function(e,t){o.addPixel("/v1/edge/pixel?%24site_token="+o.options.site_token+"&%24seg_id="+e+"&%24o=a&%24uaid="+encodeURIComponent(t))},function(e,t){o.addPixel("/v1/edge/pixel?%24site_token="+o.options.site_token+"&%24seg_id="+e+"&%24o=d&%24uaid="+encodeURIComponent(t))},function(){o.enable_local_segment_evaluation&&o.userpoint&&o.computeSegments()},this.options.debug,this.namespace,this.context,this.deviceIdRegistryTokenToIdMap),this.userpoint.setAgentTechnicalIdentifiers(this.userIdentifierHolder.userIdentifiers()),this.userIdentifierHolder.subscribe(this.userpoint),this.eventPusher&&this.eventPusher.setUserpoint(this.userpoint),this.fetchScriptFromUri("/v1/device_info.js"),this.segment_evaluator_uri?this.fetchScriptFromUri(this.segment_evaluator_uri):this.segment_evaluator_url&&this.fetchScriptFromUrl(this.segment_evaluator_url),this.segment_definition_uri?this.fetchScriptFromUri(this.segment_definition_uri):this.segment_definition_url&&this.fetchScriptFromUrl(this.segment_definition_url)))):this.console.debug("Will not apply config ".concat(JSON.stringify(e)," for this site token ").concat(this.options.site_token)):this.console.warn("Cannot apply setConfig before init was called")},A.prototype.markConfigAsLoaded=function(){var e;null!==(e=this.currentPage)&&void 0!==e&&e.markConfigAsLoaded(),null!==(e=this.eventPusher)&&void 0!==e&&e.triggerCallsIfPossible()},A.prototype.markDeactivatedConfig=function(){var e;this.console.error("[mediarithmics] The site token you are using is not recognized. Please check your configuration or remove the script from your website."),null!==(e=this.eventPusher)&&void 0!==e&&e.disable(),null!==(e=this.cookieMatcher)&&void 0!==e&&e.disable(),this.processExternalFeedsWith=function(){},null!==(e=this.userpoint)&&void 0!==e&&e.reset(),this.computeSegments=function(){}},A.prototype.loadNetworkIdApiJs=function(n,o,r){return i(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,o];case 1:if(!e.sent())try{return[2,(0,d.loadScriptAsync)(r).then(function(){return t.console.info("Loaded ".concat(r))})]}catch(e){return this.console.error("Could not load ".concat(n," API"),e),[2,Promise.reject()]}return[2]}})})},A.prototype.setEvaluator=function(e){this.console.info("Setting Segment Evaluator"),"function"==typeof e&&(this.segment_evaluator=e),this.computeSegments()},A.prototype.setSegmentDefinition=function(e){this.console.info("Setting Segment Definition"),this.segment_definition=e.map,this.computeSegments()},A.prototype.setDeviceInfo=function(e){this.console.info("Setting Device Info "+JSON.stringify(e)),this.userpoint&&(this.userpoint.setAgentUserAgentInfo(e),this.computeSegments())},A.prototype.getConsentDate=function(e){var t=new Date,n=new Date(e),e=n.getTime();return 0<e&&e<t.getTime()?n:t},A.prototype.declareAdvertisingCookieConsent=function(e){var t=this.getConsentDate(e),e=24*this.options.cookie_max_age_in_days*60*60*1e3;this.cache.store(E,"true"),this.cache.store(C,t.getTime().toString());e=new Date(t.getTime()+e);(0,v.updateCookiesExpiration)(O,e.toUTCString())},A.prototype.revokeAdvertisingCookieConsent=function(){this.cache.store(E,"false"),this.cache.remove(C),(0,v.deleteCookiesStartingWith)(O)},A.prototype.deleteAdvertisingCookie=function(e){(0,v.deleteCookie)("_"+e)},A.prototype.deleteCookie=function(e){(0,v.deleteCookie)(e)},A.prototype._setUAID=function(e,t,n,o){this.currentPage&&this.enableMumId&&(t&&!this.set&&(this.set=!0,this.currentPage.updateUAID(t,n,o)),this.eventPusher&&this.eventPusher.triggerCallsIfPossible(),this.syncFeedsCb&&(this.syncFeedsCb(),this.syncFeedsCb=void 0))},A.prototype.upsertAdvertisingCookie=function(e,t,n,o){void 0===o&&(o=this.options.cookie_max_age_in_days);var r=new Date;r.setTime(r.getTime()+864e5*o);var o=null!==(o=(0,v.readCookie)(O+t))&&void 0!==o?o:n,n="mum"===e||"vec"===e?void 0:t;this.userIdentifierHolder.addUserAgentIdentifier("".concat(e,":").concat(null!==(n=null==n?void 0:n.concat(":"))&&void 0!==n?n:"").concat(o));o=encodeURIComponent(o);document.cookie="mics_".concat(t,"=").concat(o,";expires=").concat(r.toUTCString(),";path=/")},A.prototype.validateMode=function(e){if(!e||!w.includes(e))throw new Error("".concat(this.context,".init : invalid mode (").concat(e,")"))},A.prototype.init=function(e){if(this.options.initialized)this.console.warn(this.context+" was already initialized, stop initialization");else{var t=this.initializeTagOptions(e);this.console.info("mcsObj.config, new configuration is",t);var n=null,e=null;if("VISIT"===(this.options=t).mode?(n="/v1/visits/pixel",e=this.globalProperties.$site_token=t.site_token):"TOUCH"===t.mode&&(n="/v1/touches/pixel",e=this.globalProperties.$dat_token=t.datamart_token),"string"!=typeof e)throw new Error(this.context+".init : the token must be a string");if(0===e.length)throw new Error(this.context+".init : the token must be a non-empty string");this.options.initialized=!0,this.currentPage=new l.CurrentPage(t,this.userIdentifierHolder,this.context,this.debug),this.fetchConfig(),this.currentPage.setParams(this.getUserChoiceParams()),this.cookieMatcher=new a.CookieMatcher(t,this.context),void 0!==this.enableTcfForCookieMatching&&(this.cookieMatcher.enableTcfForCookieMatching(this.enableTcfForCookieMatching,this.getUserChoiceParams()),this.enableMumId&&!this.enableTcfForCookieMatching&&this.fetchUAID()),this.currentPage.readPage();n={endPointUrl:t.protocol+t.domain_name+n,debug:t.debug,overrideTransport:t.override_transport};this.eventPusher=new p.EventPusher(this.context,S,this.currentPage,this.cookieMatcher,this.userpoint,n,this.userIdentifierHolder),this.eventPusher.addProperties(this.globalProperties),this.eventPusher.setWatchDog(t.global_timeout_ms),this.userIdentifierHolder.subscribe(this.eventPusher),this.cookieMatcher.panicCallback(this.eventPusher.panic.bind(this.eventPusher)),this.addProperty("$tv","2.0.20240105-build-136-rev-b04413b")}},A.prototype.pageQuit=function(){this.eventPusher&&this.eventPusher.pageQuit()},A.prototype.onFinish=function(e,t){this.eventPusher&&this.eventPusher.onFinish(e,t)},A.prototype.pushDefault=function(){this.push("$page_view")},A.prototype.push=function(e,t){if(!this.eventPusher)throw new Error(this.context+" is not initialized, call "+this.context+".init(YOUR_TOKEN) first !");this.eventPusher.push(e,t)},A.prototype.addProperty=function(e,t){var n;this.console.debug("addProperty",e,t),"$user_account_id"===e?this.userIdentifierHolder.legacyUserAccountId=t:"$comp_token"===e?this.userIdentifierHolder.legacyCompartmentToken=t:"$email_hash"===e?this.userIdentifierHolder.legacyEmailHash=t:"$email"===e?this.userIdentifierHolder.legacyEmail=t:this.addProperties(((n={})[e]=t,n))},A.prototype.addProperties=function(e){this.console.debug("addProperties",e),this.eventPusher?this.eventPusher.addProperties(e):this.globalProperties=(0,_.default)(this.globalProperties,e)},A.prototype.addIdentifier=function(e,t){this.console.debug("addIdentifier(".concat(e,", ").concat(JSON.stringify(t),")"));try{if("USER_ACCOUNT"!=e&&"USER_EMAIL"!=e&&!function(e,t){if("USER_AGENT"==e)try{return(new b.UserAgentIdentifierJsonFactory).fromObjectUnsafe(null!==t&&"string"==typeof t?JSON.parse(t):t).isClientRegistry()}catch(e){return}}(e,t))throw new Error("Unsupported identifier type ".concat(e,', valid types are "USER_ACCOUNT" and "USER_EMAIL" and "USER_AGENT" if the agent id starts with dev: or mov:'));this._addIdentifier(e,t)}catch(e){this.console.error(e)}},A.prototype.lodDebug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.console).debug.apply(e,t)},A.prototype.addAllowedRegistry=function(e){this.userIdentifierHolder.addAllowedRegistry(e)},A.prototype._addIdentifier=function(e,t){try{var n=null!==t&&"string"==typeof t?t:JSON.stringify(t);this.userIdentifierHolder.addIdentifierUnsafe(e,n)}catch(e){this.console.error(e)}},Object.defineProperty(A.prototype,"vid",{get:function(){return this.userIdentifierHolder.findVectorIdLongValue()},enumerable:!1,configurable:!0}),A.prototype._reset=function(){this.console.info("reset ",this.context),this.userpoint&&this.userpoint.reset(),this.set=!1,this.options=(0,_.default)({debug:this.options.debug},P),this.globalProperties={$sv:f.mics._snippetVersion},this.cookieMatcher=void 0,this.eventPusher=void 0,this.id5IdGatherer=void 0,this.currentPage=void 0,this.userpoint=void 0,this.userIdentifierHolder=new m.default(this.context,this.debug),this.enableGOOMatching=void 0,(this.enableAPXMatching=void 0,v.deleteCookiesStartingWith)(O)},A.prototype.config=function(e){return this.options=(0,_.default)(this.options,e=e||{}),e.cookie_matching_url?this.console.info("overriding cookie_matching_url with ",e.cookie_matching_url):e.domain_name&&(this.options.cookie_matching_url=this.options.protocol+this.options.domain_name+this.options.get_id_path,this.console.info("using custom domain, cookie_matching_url will be ",this.options.cookie_matching_url)),this.console.info("mcsObj.config, new configuration is",this.options),this.options},A.prototype.syncFeeds=function(t){function e(){var e;return(0,h.processExternalFeeds)(n.globalProperties.$audience_feeds_refresh_period,n.options.site_token,n.options.domain_name,t,n.userIdentifierHolder.collectFirstUserAgentIdentifier()&&(null===(e=n.userIdentifierHolder.collectFirstUserAgentIdentifier())||void 0===e?void 0:e.$user_agent_id),n.options.override_transport||void 0)}var n=this;this.userIdentifierHolder.collectFirstUserAgentIdentifier()?e():this.syncFeedsCb=e},A);function A(e,t){var a=this;this.set=!1,this.enableID5=!1,this.enableMumId=!0,this.deviceIdRegistryTokenToIdMap={},this.fetchUAID=function(){var e,t,n,o,r,i;a.currentPage&&(e=a.currentPage.getCookie(),t=a.currentPage.getVid(),n=a.currentPage.getLts(),(o=new Date).setTime(o.getTime()-24*a.options.cookie_refresh_in_days*60*60*1e3),a.cookieMatcher&&(r=[],!0===a.enableGOOMatching&&r.push("goo"),!0===a.enableAPXMatching&&r.push("apx"),a.cookieMatcher.setOperators(r)),i=void 0,a.enable_local_segment_evaluation&&a.userpoint&&(i=null===(r=a.userpoint)||void 0===r?void 0:r.getAgentId()),t&&n&&(n>o.getTime()||i)?(i=null!==(i=null===(i=null===(i=a.cookieMatcher)||void 0===i?void 0:i.UserChoiceHandler)||void 0===i?void 0:i.getLatestUpdated())&&void 0!==i?i:new Date,i=new Date(i.getTime()+24*Math.min(180,a.options.cookie_max_age_in_days)*60*60*1e3),a._setUAID(e,t,n,i.toUTCString())):a.cookieMatcher&&a.cookieMatcher.gatherOperatorsIds())},this.onUserChoiceGiven=function(t,n,o,r){var i=setInterval(function(){var e;void 0!==(null===(e=a.cookieMatcher)||void 0===e?void 0:e.UserChoiceHandler)&&(a.cookieMatcher.UserChoiceHandler.onUserChoiceGiven(t,n,o,r),clearInterval(i))},1)},this.computeSegments=function(){var e,t,n,o,r,i,s=[];a.segment_definition&&a.segment_evaluator&&(t=null===(e=a.userpoint)||void 0===e?void 0:e.getUserPointData(),n=Object.keys(a.segment_definition),o=0,r=10,(i=function(){var e=o+r;n.slice(o,o+r).forEach(function(e){t&&a.segment_evaluator&&a.segment_evaluator(t,a.segment_definition[e])&&s.push(e)}),e<n.length?(o=e,setTimeout(i,100)):(a.console.info("Finished Computing Segments",s),a.userpoint&&a.userpoint.setSegments(s))})())},this.initializeTagOptions=function(e){var t;if(void 0===e)throw new Error(a.context+".init : use a token string or an object");return"string"==typeof e?t=I(a.options,{mode:"VISIT",site_token:e,domain_name:a.options.domain_name}):(a.validateMode(e.mode),t=I(a.options,e),e.cookie_matching_url?a.console.info("overriding cookie_matching_url with ",t.cookie_matching_url):e.domain_name&&(t.cookie_matching_url=t.protocol+t.domain_name+t.get_id_path,a.console.info("using custom domain, cookie_matching_url will be ",t.cookie_matching_url))),r(r({},t),a.getTagOptionsOverride())},this.getUserChoiceParams=function(){var e;return{cmpIds:null!==(e=a.cmpIds)&&void 0!==e?e:[]}},this.context=e,this.namespace="",this.debug=t,this.console=(0,u.Console)(e,t),this.cache=new c.Cache(t),this.enable_local_segment_evaluation=!1,this.context=e,this.options=(0,_.default)(P,{debug:t}),this.globalProperties={$sv:f.mics._snippetVersion},this.get=d.get,this.processExternalFeeds=h.processExternalFeeds,this.processExternalFeedsWith=h.processExternalFeedsWith,this.userIdentifierHolder=new m.default(e,t),this.id5IdGatherer=void 0,this.syncFeedsCb=void 0,this.console.info("Creating tag object, globalProperties: ".concat(JSON.stringify(this.globalProperties)))}t.TagObject=n},8713:function(e,u,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(u,"__esModule",{value:!0}),u.UserPoint=u.UserPointData=u.MAX_EVENTS_FOR_USER_POINT=u.BASE_SEGMENTS_STORAGE_KEY=u.BASE_USERPOINT_STORAGE_KEY=void 0;var l=t(6701),d=t(2461),r=t(9124);u.BASE_USERPOINT_STORAGE_KEY="_mics_up",u.BASE_SEGMENTS_STORAGE_KEY="mics_sgmts",u.MAX_EVENTS_FOR_USER_POINT=200;var p=(Object.defineProperty(i.prototype,"devices",{get:function(){return this.agents},enumerable:!1,configurable:!0}),i);function i(){this.profiles=[],this.segments=[],this.activities=[],this.events=[],this.emails=[],this.agents=[]}u.UserPointData=p;s.prototype.reset=function(){this.userPointData=new p,this.cache.remove(this.namespace+u.BASE_USERPOINT_STORAGE_KEY),this.cache.remove(u.BASE_SEGMENTS_STORAGE_KEY)},s.prototype.getUserPointData=function(){return this.userPointData},s.prototype.saveUserpoint=function(){var e=this.encrypt(this.userPointData);this.cache.store(this.namespace+u.BASE_USERPOINT_STORAGE_KEY,e);var t=this.cache.get(u.BASE_SEGMENTS_STORAGE_KEY),e=this.getSegmentIds()?this.getSegmentIds():[];t&&"object"==typeof t?t[this.namespace]=e:(t={})[this.namespace]=e,this.cache.store(u.BASE_SEGMENTS_STORAGE_KEY,JSON.stringify(t)),this.console.info("Saving UserPoint",this.userPointData)},s.prototype.setAgentUserAgentInfo=function(e){this.console.debug("setAgent(".concat(JSON.stringify(e),")")),e&&e.initial_ts&&(e={user_agent_info:e},this.userPointData.agents=[n(n({},this.getAgent()),e)],this.saveUserpoint(),this.onUpdate())},s.prototype.addTechnicalIdentifier=function(e){var t=new Date,n=new Date(t.getFullYear()+1,t.getMonth(),t.getDate()),n={id:e.getAgentId(),creation_ts:t.getTime(),expiration_ts:n.getTime(),last_seen_ts:t.getTime(),type:e.registryType,registry_id:e.getRegistryId(this.deviceIdRegistryTokenToIdMap)},t=this.getAgent(),n={id:e.isVectorId()?e.getAgentId():t?t.id:void 0,creation_date:e.isVectorId()?Date.now():t?t.creation_date:void 0,creation_ts:e.isVectorId()?Date.now():t?t.creation_ts:void 0,user_agent_info:t?t.user_agent_info:void 0,technical_identifiers:t&&t.technical_identifiers&&t.technical_identifiers.length?o(o([],t.technical_identifiers,!0),[n],!1):[n]};this.userPointData.agents[0]=n},s.prototype.setAgentTechnicalIdentifiers=function(e){var t=this;e.filter(function(e){return e instanceof r.UserAgentIdentifierJson}).forEach(function(e){t.addTechnicalIdentifier(e)}),this.saveUserpoint(),this.onUpdate()},s.prototype.onNewIdentifier=function(e){e instanceof r.UserAgentIdentifierJson&&(this.addTechnicalIdentifier(e),this.saveUserpoint(),this.onUpdate())},s.prototype.onRemovedIdentifier=function(e){},s.prototype.observerName=function(){return"UserPoint-"+this.context},s.prototype.getUserAgentInfo=function(){return this.userPointData.agents&&this.userPointData.agents.length&&this.userPointData.agents[0].user_agent_info&&(void 0!==this.userPointData.agents[0].user_agent_info||this.userPointData.agents[0].user_agent_info!=={})?this.userPointData.agents[0].user_agent_info:void 0},s.prototype.getAgentId=function(){var e=this.getAgent();if(e&&e.id){e=e.id.split(":");return e[e.length-1]}},s.prototype.getAgent=function(){return this.userPointData.agents[0]},s.prototype.getFirstAvailableUserAgentId=function(){var e=this.getAgent();return e&&e.id?e.id:null!=e&&e.technical_identifiers&&0<e.technical_identifiers.length?e.technical_identifiers[0].id:void 0},s.prototype.getVectorId=function(){return this.userPointData.agents&&this.userPointData.agents.length?this.userPointData.agents[0].id:void 0},s.prototype.getSegmentIds=function(){return this.userPointData.segments.map(function(e){return e.id}).map(String)},s.prototype.formatEvent=function(e){return e.name=e.$ev,e.referrer=e.$referrer,e.date=Date.now(),e.url=e.$url,e.site_token=e.$site_token,delete e.$web_domain_token,delete e.$web_domain_id,delete e.$etag_id,delete e.$vector_last_seen,delete e.$tag_version,delete e.$delay,delete e.$error,delete e.$snippet_version,delete e.$check_cookie_drop_param,delete e.$consent_from_tcf_api,delete e.$gdpr_consent,delete e.$gdpr_applies,delete e.$installation_id,Object.assign(e,e.properties)},s.prototype.encrypt=function(e){return JSON.stringify(e)},s.prototype.decrypt=function(e){return JSON.parse(e)},t=s;function s(e,t,n,o,r,i,s){var a=this;this.deviceIdRegistryTokenToIdMap={},this.userPointData=new p,this.setSegments=function(e){a.console.debug("setSegments(".concat(JSON.stringify(e),")"));var n,o=a.getSegmentIds(),r=e.filter(function(t){return!o.find(function(e){return t===e})}),i=o.filter(function(t){return!e.find(function(e){return t===e})});0!==r.length||0!==i.length?(a.userPointData.segments=e.map(function(e){return{id:e,creation_ts:Date.now(),last_modified_ts:Date.now(),expiration_ts:null}}),a.console.info("New Segments",r,"Removed Segments",i,"segments",e),a.saveUserpoint(),(n=function(e){var t=a.getFirstAvailableUserAgentId();t?(a.console.log("found userAgentId: "+t),a.onAddition&&r.forEach(function(e){a.onAddition(e,t)}),a.onDeletion&&i.forEach(function(e){a.onDeletion(e,t)})):0<e&&(a.console.log("could not find userAgentId. retries left: "+e),setTimeout(n,1e3,e-1))})(5)):a.console.log("No new addition nor deletion, skipping...")},this.addEvent=function(e){a.console.debug("addEvent(".concat(JSON.stringify(e),")"));e=a.formatEvent(e);a.userPointData.events.unshift(e),a.userPointData.events=a.userPointData.events.slice(0,u.MAX_EVENTS_FOR_USER_POINT),a.saveUserpoint(),a.onUpdate()},this.context=i,this.namespace=r,this.onAddition=e,this.onDeletion=t,this.onUpdate=n,this.deviceIdRegistryTokenToIdMap=s||{},this.console=(0,d.Console)("UserPoint-"+i,o),this.cache=new l.Cache(o),this.console.info("Starting UserPoint System"),this.console.debug("deviceIdRegistryTokenToIdMap = ".concat(JSON.stringify(s)));s=this.cache.get(this.namespace+u.BASE_USERPOINT_STORAGE_KEY);if(s)try{var c=this.decrypt(s);this.console.debug("Existing user point found in localStorage : ".concat(JSON.stringify(c))),this.userPointData=c}catch(e){this.console.error("Failed to parse userpoint data in localStorage")}}u.UserPoint=t},7748:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(346);t.default=function(){var e,r=this;function t(){var e;r[s.API_KEY]=null!==(e=window[s.API_KEY])&&void 0!==e?e:r.tcfApiStub,r[s.API_KEY]===r.tcfApiStub?r.timeout=setTimeout(t,100):(r.queue.forEach(function(e){return r[s.API_KEY].apply(r,e)}),r.queue=[])}this.queue=[],this.reset=function(){r.queue=[],r.timeout&&clearTimeout(r.timeout)},this.tcfApiStub=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],o=e[2];n===s.TCFCommand.PING?o({gdprApplies:void 0,cmpLoaded:!1,cmpStatus:"stub",displayStatus:"hidden",apiVersion:"2.2",cmpVersion:void 0,cmpId:void 0,gvlVersion:void 0,tcfPolicyVersion:void 0},!0):r.queue.push(i([],e,!0))},this[s.API_KEY]=null!==(e=window[s.API_KEY])&&void 0!==e?e:this.tcfApiStub,t()}},9842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.areConsent=function(){return!0},this.getProperties=function(){return{}},this.onUserChoiceGiven=function(e,t,n,o){n(!0)},this.setParams=function(){},this.getLatestUpdated=function(){return new Date}}},4566:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2461),a=n(346),i=o(n(7748)),c=n(3406),n=function(e,t){var s=this;this.tcfApi=new i.default,this.listenerIds=[],this.updateDate=new Date(0),this.reset=function(){s.tcData=void 0,s.previousTcData=void 0,s.listenerIds.forEach(function(e){return s.tcfApi[a.API_KEY]("removeEventListener",2,function(){},e)}),s.listenerIds=[],s.tcfApi.reset()},this.setParams=function(e){s.cmpIds=e.cmpIds},this.getVendorId=function(e){var t={apx:32,xandr:32,mics:184,mediarithmics:184,goo:755,google:755,id5:131};return void 0===t[e]&&s.console.error("Vendor unknown",e),t[e]},this._isConsented=function(e,t,n){return!1===s.applies()||s.isCmpValid(n)&&s.hasPurposesConsent(t,n)&&s.hasVendorsConsent(e,n)},this.isCmpValid=function(e){return void 0===s.cmpIds||0==s.cmpIds.length||0<=s.cmpIds.indexOf(null!==(e=null==e?void 0:e.cmpId)&&void 0!==e?e:-2)},this.areConsent=function(e,t){return s._isConsented(e,t,s.tcData)},this.wasVendorConsent=function(e,t){return s._isConsented(e,t,s.previousTcData)},this.getProperties=function(){var e,t={};return t.gdpr=!1===(null===(e=s.tcData)||void 0===e?void 0:e.gdprApplies)?"0":"1",void 0!==(null===(e=s.tcData)||void 0===e?void 0:e.tcString)&&(t.gdpr_consent=s.tcData.tcString),t},this.onUserChoiceGiven=function(n,o,r,i){s.tcfApi[a.API_KEY]("addEventListener",2,function(e,t){t&&null!=e&&e.isServiceSpecific&&(void 0!==e.listenerId&&-1===s.listenerIds.indexOf(e.listenerId)&&s.listenerIds.push(e.listenerId),e.eventStatus!==a.EventStatus.TC_LOADED&&e.eventStatus!==a.EventStatus.USER_ACTION_COMPLETE||(s.updateTcData(e),(s.areConsent(n,o)?r:i)(s.wasVendorConsent(n,o))))})},this.getLatestUpdated=function(){var e;return null!==(e=s.tcData)&&void 0!==e&&e.tcString?c.TCString.decode(s.tcData.tcString).lastUpdated:new Date},this.applies=function(){var e;return null===(e=s.tcData)||void 0===e?void 0:e.gdprApplies},this.updateTcDataOnChange=function(e,t){t&&null!=e&&e.isServiceSpecific&&(void 0!==e.listenerId&&-1===s.listenerIds.indexOf(e.listenerId)&&s.listenerIds.push(e.listenerId),t&&e.eventStatus===a.EventStatus.TC_LOADED?(s.console.debug("TCF API successfully loaded."),s.updateTcData(e)):t&&e.eventStatus===a.EventStatus.USER_ACTION_COMPLETE?(s.console.debug("TCF API user action registered."),s.updateTcData(e)):t&&e.eventStatus===a.EventStatus.CMP_UI_SHOWN?s.console.debug("TCF UI shown."):t?s.console.error("Unknown tc event status",e.eventStatus):s.console.warn("TCF API loading failed"))},this.updateTcData=function(e){var t,n=new Date;((null===(t=s.tcData)||void 0===t?void 0:t.tcString)!=e.tcString||100<n.getTime()-s.updateDate.getTime())&&(s.updateDate=n,s.previousTcData=s.tcData,s.tcData=e,s.console.debug("tcData updated",s.previousTcData,s.tcData))},this.hasPurposesConsent=function(e,n){return e.reduce(function(e,t){return e&&s.hasPurposeConsents(t,n)},!0)},this.hasPurposeConsents=function(e,t){t=null==t?void 0:t.purpose.consents;return void 0!==t&&"string"!=typeof t&&t.hasOwnProperty(e)&&t[e]},this.hasVendorsConsent=function(e,n){return e.reduce(function(e,t){return e&&s.getVendorConsent(s.getVendorId(t),n)},!0)},this.getVendorConsent=function(e,t){t=null==t?void 0:t.vendor.consents;return void 0!==t&&"string"!=typeof t&&void 0!==e&&t.hasOwnProperty(e)&&t[e]},this.console=(0,r.Console)(e,t),this.tcfApi[a.API_KEY]("addEventListener",2,this.updateTcDataOnChange)};t.default=n},8118:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,s=n(2461),a=n(1296),c=n(2849),u=n(9124),n=n(9506),r=(i=n.UserIdentifierHolderWrapped,r(l,i),l.prototype.reset=function(){this._userIdentifiers=[],this.console.info("Reset user identifiers")},l.prototype.userIdentifiers=function(){return this.legacyUserAccountId&&this.withUserAccountIdentifier(this.legacyUserAccountId,this.legacyCompartmentToken),this.legacyEmailHash&&this.withUserEmailIdentifier(this.legacyEmailHash,this.legacyEmail),this._userIdentifiers},l.prototype.getEventPusherProperties=function(t){return{$uids:this.userIdentifiers().filter(function(e){return!(e instanceof u.UserAgentIdentifierJson)||e.allowedByRegistries(t)}).map(function(e){return e.toQueryObject()})}},l.prototype.withUserAccountIdentifier=function(e,t){return this.withIdentifier(new a.UserAccountIdentifierJson(e,t))},l.prototype.withUserEmailIdentifier=function(e,t){return this.withIdentifier(new c.UserEmailIdentifierJson(e,t))},l.prototype.withUserAgentIdentifier=function(e,t){try{var n=new u.UserAgentIdentifierJson(e);return n.allowedByRegistries(t)?this.withIdentifier(new u.UserAgentIdentifierJson(e)):(this.console.warn("Discarded agent because registry is nor authorised",n,t),{holder:this})}catch(e){this.console.error(e)}return{holder:this}},l.prototype.findVectorIdLongValue=function(){var e=null===(e=this.userIdentifiers().find(function(e){return e instanceof u.UserAgentIdentifierJson&&e.isVectorId()}))||void 0===e?void 0:e.getAgentId();return null==e?void 0:e.split(":")[1]},l.prototype.withIdentifier=function(t){return this._userIdentifiers.find(function(e){return e.equals(t)})?{holder:this}:(this._userIdentifiers.push(t),this.console.log("New identifier ".concat(JSON.stringify(t)," added to user_identifiers ").concat(JSON.stringify(this.userIdentifiers()))),{holder:this,identifier:t})},l.prototype.withIdentifierUnsafe=function(e,t){this.console.debug("withIdentifierUnsafe(".concat(e,", ").concat(t,")"));e=this.getFactory(e);if(e)try{return this.withIdentifier(e.fromObjectUnsafe(JSON.parse(t)))}catch(e){this.console.error("An unexpected error occurred while calling withIdentifierUnsafe: ".concat(e))}return{holder:this}},l.prototype.getFactory=function(e){var t;return"USER_ACCOUNT"===e?t=new a.UserAccountIdentifierJsonFactory:"USER_EMAIL"===e?t=new c.UserEmailIdentifierJsonFactory:"USER_AGENT"===e?t=new u.UserAgentIdentifierJsonFactory:(t=void 0,this.console.warn("Unhandled identifier type ".concat(e))),t},l);function l(e,t,n){var o=i.call(this)||this;return o._userIdentifiers=[],o.console=(0,s.Console)("ArrayBasedUserIdentifierHolder-".concat(t),!!n),e.vid&&o._userIdentifiers.push(new u.UserAgentIdentifierJson(e.vid)),o.legacyUserAccountId=e.legacyUserAccountId,o.legacyCompartmentToken=e.legacyCompartmentToken,o.legacyEmailHash=e.legacyEmailHash,o.legacyEmail=e.legacyEmail,o}t.default=r},4172:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(2461),c=i(n(8118)),u=n(9124),n=n(9506),r=(s=n.UserIdentifierHolderWrapped,r(l,s),l.prototype.reset=function(){this.legacyUserAccountId=void 0,this.legacyCompartmentToken=void 0,this.legacyEmailHash=void 0,this.legacyEmail=void 0,this.console.info("Reset user identifiers")},l.prototype.getEventPusherProperties=function(e){var t={},n=this.findVectorIdLongValue();return n&&(!e||0<=e.indexOf("mum"))&&(t.$vid=n),this.legacyUserAccountId&&(t.$cuid=this.legacyUserAccountId),this.legacyCompartmentToken&&(t.$comp_token=this.legacyCompartmentToken),this.legacyEmailHash&&(t.$email_hash=this.legacyEmailHash),this.legacyEmail&&(t.$email=this.legacyEmail),t},l.prototype.userIdentifiers=function(){return new c.default(this,this.context,this.debug).userIdentifiers()},l.prototype.findVectorIdLongValue=function(){var e;return null===(e=this.vid)||void 0===e?void 0:e.split(":")[1]},l.prototype.withUserAccountIdentifier=function(e,t){return new c.default(this,this.context,this.debug).withUserAccountIdentifier(e,t)},l.prototype.withUserAgentIdentifier=function(e,t){if(this.isVectorId(e)){var n=new u.UserAgentIdentifierJson(e);return n.allowedByRegistries(t)?n.getAgentId()!==this.vid?(this.vid=n.getAgentId(),{holder:this,identifier:new u.UserAgentIdentifierJson(e)}):{holder:this}:(this.console.warn("Discarded agent because registry is nor authorised",n),{holder:this})}return new c.default(this,this.context,this.debug).withUserAgentIdentifier(e,t)},l.prototype.withUserEmailIdentifier=function(e,t){return new c.default(this,this.context,this.debug).withUserEmailIdentifier(e,t)},l.prototype.withIdentifierUnsafe=function(e,t){return new c.default(this,this.context,this.debug).withIdentifierUnsafe(e,t)},l.prototype.isVectorId=function(e){var t=e.split(":"),n=new RegExp(/^\d+$/);return 1==t.length&&n.test(e)||2==t.length&&n.test(t[1])},l);function l(e,t){var n=s.call(this)||this;return n.context=e,n.debug=!!t,n.console=(0,a.Console)("PropertiesBasedUserIdentifierHolder-".concat(e),!!t),n}t.default=r},1296:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserAccountIdentifierJsonFactory=t.UserAccountIdentifierJson=t.UserAccountIdentifier=void 0;var r=function(e,t){this.$user_account_id=e,this.$compartment_token=t};t.UserAccountIdentifier=r;var i,s=(n(a,i=r),a.prototype.equals=function(e){return e instanceof a&&(e.$user_account_id===this.$user_account_id&&e.$compartment_token===this.$compartment_token)},a.prototype.toQueryObject=function(){return{$tpe:"AC",$acid:this.$user_account_id,$ctok:this.$compartment_token}},a.prototype.toMappingEvent=function(){return{$type:"USER_ACCOUNT",$user_account_id:this.$user_account_id,$compartment_token:this.$compartment_token}},a);function a(e,t){t=i.call(this,e,t)||this;return t.$type="USER_ACCOUNT",t}t.UserAccountIdentifierJson=s;c.prototype.fromObjectUnsafe=function(e){if(e.$user_account_id)return new s(e.$user_account_id,e.$compartment_token);throw Error("".concat(e," is not does not have $user_account_id property"))},r=c;function c(){}t.UserAccountIdentifierJsonFactory=r},9124:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgentIdentifierJsonFactory=t.UserAgentIdentifierJson=void 0;var r,i={vec:"MUM_ID",mum:"MUM_ID",ins:"INSTALLATION_ID",tech:"TECHNICAL_ID",web:"ORGANISATION_OWNED_ID",etag:"ETAG",mob:"MOBILE_ADVERTISING_ID",mov:"MOBILE_VENDOR_ID",net:"NETWORK_DEVICE_ID",dev:"CUSTOM_DEVICE_ID",tv:"TV_ADVERTISING_ID"},s=["mov","mob","tv","dev","net"],a=(n(c,r=function(e){if(new RegExp(/^\d+$/).test(e))this.$user_agent_id="vec:".concat(e);else{if(!Object.keys(i).includes(e.split(":")[0]))throw Error("Unknown user agent id ".concat(e));this.$user_agent_id=e}}),c.prototype.equals=function(e){return e instanceof c&&e.$user_agent_id===this.$user_agent_id},c.prototype.isVectorId=function(){return this.$user_agent_id.startsWith("vec:")},c.prototype.isClientRegistry=function(){return 0<=s.indexOf(this.getAgentId().split(":")[0])},c.prototype.inRegistry=function(e){return"mum"==e?this.isVectorId():0<=this.$user_agent_id.indexOf(":".concat(e,":"))},c.prototype.allowedByRegistries=function(e){var n=this;return this.isClientRegistry()||void 0===e||e.reduce(function(e,t){return e||n.inRegistry(t)},!1)},c.prototype.getAgentId=function(){return this.$user_agent_id},c.prototype.toQueryObject=function(){return{$tpe:"AG",$agid:this.$user_agent_id}},Object.defineProperty(c.prototype,"registryType",{get:function(){var e=this.getAgentId().split(":");return i[e[0]]},enumerable:!1,configurable:!0}),c.prototype.getRegistryId=function(e){var t,n,o="0";return"MUM_ID"===this.registryType?o="1":"MOBILE_ADVERTISING_ID"===this.registryType?"and"===(t=this.getAgentId().split(":")[1])?o="2":"ios"===t&&(o="3"):"NETWORK_DEVICE_ID"===this.registryType&&("4"===(n=this.getAgentId().split(":")[1])||"5"===n?o=n:"first-id"===n&&(o="21")),"0"===o&&((n=this.getAgentId().split(":")[1])&&/^\d+$/.test(n)?o=n:(n=e[n])&&(o=n)),o},c.prototype.toMappingEvent=function(){var e=this.getAgentId().split(":"),t=this.registryType;return"MUM_ID"===t?{$type:t,$registry_token:1,$value:this.getAgentId(),$id:e[1]}:{$type:t,$registry_token:e[1],$value:this.getAgentId(),$id:e.splice(2).join(":")}},c);function c(e){e=r.call(this,e)||this;return e.$type="USER_AGENT",e}t.UserAgentIdentifierJson=a;u.prototype.fromObjectUnsafe=function(e){if(e.$user_agent_id)return new a(e.$user_agent_id);throw Error("".concat(e," is not does not have $user_agent_id property"))},n=u;function u(){}t.UserAgentIdentifierJsonFactory=n},2849:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.UserEmailIdentifierJsonFactory=t.UserEmailIdentifierJson=t.UserEmailIdentifier=void 0;var r=(i.prototype.getEmailHash=function(){return this.$email_hash},i);function i(e,t){this.$email_hash=e,this.$email=t}t.UserEmailIdentifier=r;var s,a=(n(c,s=r),c.prototype.equals=function(e){return e instanceof c&&e.$email_hash===this.$email_hash},c.prototype.toQueryObject=function(){return{$tpe:"EM",$eh:this.$email_hash,$e:this.$email}},c.prototype.toMappingEvent=function(){return{$type:"USER_EMAIL",$email_hash:this.$email_hash,$email:this.$email}},c);function c(e,t){t=s.call(this,e,t)||this;return t.$type="USER_EMAIL",t}t.UserEmailIdentifierJson=a;u.prototype.fromObjectUnsafe=function(e){if(e.$email_hash)return new a(e.$email_hash,e.$email);throw Error("".concat(e," is not does not have $email_hash property"))},r=u;function u(){}t.UserEmailIdentifierJsonFactory=r},4951:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(4172)),i=n(2461),s=n(9124),n=(Object.defineProperty(a.prototype,"legacyUserAccountId",{set:function(e){this.internal.legacyUserAccountId=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"legacyCompartmentToken",{set:function(e){this.internal.legacyCompartmentToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"legacyEmailHash",{set:function(e){this.internal.legacyEmailHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"legacyEmail",{set:function(e){this.internal.legacyEmail=e},enumerable:!1,configurable:!0}),a.prototype.getEventPusherProperties=function(){return this.internal.getEventPusherProperties(this.allowedRegistries)},a.prototype.userIdentifiers=function(){return this.internal.userIdentifiers()},a.prototype.hasIdentifiers=function(){return 0<this.internal.userIdentifiers().length},a.prototype.collectFirstUserAgentIdentifier=function(){return this.internal.collectFirstUserAgentIdentifier()},a.prototype.findVectorIdLongValue=function(){return this.internal.findVectorIdLongValue()},a.prototype.addAllowedRegistry=function(t){var n=this;this.allowedRegistries||(this.allowedRegistries=[]),this.allowedRegistries.push(t),1==this.allowedRegistries.length?this.collectAgents().filter(function(e){return!e.allowedByRegistries(n.allowedRegistries)}).forEach(function(e){return n.notifyRemovedIdentifier(e)}):this.collectAgents().filter(function(e){return e.inRegistry(t)}).forEach(function(e){return n.notifyNewIdentifier(e)})},a.prototype.collectAgents=function(){return this.internal.userIdentifiers().filter(function(e){return e instanceof s.UserAgentIdentifierJson}).map(function(e){return e})},a.prototype.addIdentifierUnsafe=function(e,t){t=this.internal.withIdentifierUnsafe(e,t);this.internal=t.holder,t.identifier&&this.notifyNewIdentifier(t.identifier)},a.prototype.addUserAccountIdentifier=function(e,t){t=this.internal.withUserAccountIdentifier(e,t);this.internal=t.holder,t.identifier&&this.notifyNewIdentifier(t.identifier)},a.prototype.addUserEmailIdentifier=function(e,t){t=this.internal.withUserEmailIdentifier(e,t);this.internal=t.holder,t.identifier&&this.notifyNewIdentifier(t.identifier)},a.prototype.addUserAgentIdentifier=function(e){e=this.internal.withUserAgentIdentifier(e,this.allowedRegistries);this.internal=e.holder,e.identifier&&this.notifyNewIdentifier(e.identifier)},a);function a(e,t){var n=this;this.allowedRegistries=void 0,this.subscribe=function(e){n.observers.push(e),n.console.log("New observer ".concat(e.observerName()," subscribed !"))},this.notifyNewIdentifier=function(t){n.observers.forEach(function(e){n.console.debug("Calling onNewIdentifier(".concat(JSON.stringify(t),") on observer ").concat(e.observerName())),e.onNewIdentifier(t)})},this.notifyRemovedIdentifier=function(t){n.observers.forEach(function(e){n.console.debug("Calling onRemovedIdentifier(".concat(JSON.stringify(t),") on observer ").concat(e.observerName())),e.onRemovedIdentifier(t)})},this.context=e,this.debug=!!t,this.console=(0,i.Console)("UserIdentifierHolder-".concat(e),!!t),this.internal=new r.default(e,t),this.observers=[]}t.default=n},9506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserIdentifierHolderWrapped=void 0;var o=n(9124),n=(r.prototype.collectFirstUserAgentIdentifier=function(){return this.userIdentifiers().find(function(e){return e instanceof o.UserAgentIdentifierJson})},r);function r(){}t.UserIdentifierHolderWrapped=n},9621:function(e,n,t){"use strict";var s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.CallResponder=n.API_KEY=void 0;var c=t(1581),u=t(5656),l=t(476),d=t(7629),p=t(3965);n.API_KEY="__tcfapi";o.prototype.apiCall=function(e,t,n){for(var o,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];if("string"!=typeof e)n(null,!1);else if(p.SupportedVersions.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");l.CmpApiModel.disabled?n(new d.Disabled,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?(o=this.customCommands)[e].apply(o,a([n],s(r),!1)):e===c.TCFCommand.PING?this.isCustomCommand(e)?new u.CommandMap[e](this.customCommands[e],r[0],null,n):new u.CommandMap[e](n,r[0]):void 0===l.CmpApiModel.tcModel?this.callQueue.push(a([e,t,n],s(r),!1)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new u.CommandMap[e](this.customCommands[e],r[0],null,n):new u.CommandMap[e](n,r[0]):n(null,!1)}else n(null,!1)},o.prototype.purgeQueuedCalls=function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){window[n.API_KEY].apply(window,a([],s(e),!1))})},o.prototype.isCustomCommand=function(e){return this.customCommands&&"function"==typeof this.customCommands[e]},o.prototype.isBuiltInCommand=function(e){return void 0!==u.CommandMap[e]},t=o;function o(e){if(e){var t=c.TCFCommand.ADD_EVENT_LISTENER;if(null!=e&&e[t])throw new Error("Built-In Custom Commmand for ".concat(t," not allowed: Use ").concat(c.TCFCommand.GET_TC_DATA," instead"));if(t=c.TCFCommand.REMOVE_EVENT_LISTENER,null!=e&&e[t])throw new Error("Built-In Custom Commmand for ".concat(t," not allowed"));null!=e&&e[c.TCFCommand.GET_TC_DATA]&&(e[c.TCFCommand.ADD_EVENT_LISTENER]=e[c.TCFCommand.GET_TC_DATA],e[c.TCFCommand.REMOVE_EVENT_LISTENER]=e[c.TCFCommand.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[n.API_KEY]()||[]}catch(e){this.callQueue=[]}finally{window[n.API_KEY]=this.apiCall.bind(this),this.purgeQueuedCalls()}}n.CallResponder=t},9089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApi=void 0;var r=n(476),o=n(3619),i=n(9621),s=n(3406),n=(a.prototype.throwIfInvalidInt=function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&n<=e))throw new Error("Invalid ".concat(t,": ").concat(e))},a.prototype.update=function(e,t){if(void 0===t&&(t=!1),r.CmpApiModel.disabled)throw new Error("CmpApi Disabled");r.CmpApiModel.cmpStatus=o.CmpStatus.LOADED,t?(r.CmpApiModel.displayStatus=o.DisplayStatus.VISIBLE,r.CmpApiModel.eventStatus=o.EventStatus.CMP_UI_SHOWN):void 0===r.CmpApiModel.tcModel?(r.CmpApiModel.displayStatus=o.DisplayStatus.DISABLED,r.CmpApiModel.eventStatus=o.EventStatus.TC_LOADED):(r.CmpApiModel.displayStatus=o.DisplayStatus.HIDDEN,r.CmpApiModel.eventStatus=o.EventStatus.USER_ACTION_COMPLETE),r.CmpApiModel.gdprApplies=null!==e,r.CmpApiModel.gdprApplies?(""===e?(r.CmpApiModel.tcModel=new s.TCModel,r.CmpApiModel.tcModel.cmpId=r.CmpApiModel.cmpId,r.CmpApiModel.tcModel.cmpVersion=r.CmpApiModel.cmpVersion):r.CmpApiModel.tcModel=s.TCString.decode(e),r.CmpApiModel.tcModel.isServiceSpecific=this.isServiceSpecific,r.CmpApiModel.tcfPolicyVersion=Number(r.CmpApiModel.tcModel.policyVersion),r.CmpApiModel.tcString=e):r.CmpApiModel.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():r.CmpApiModel.eventQueue.exec(),this.numUpdates++},a.prototype.disable=function(){r.CmpApiModel.disabled=!0,r.CmpApiModel.cmpStatus=o.CmpStatus.ERROR},a);function a(e,t,n,o){void 0===n&&(n=!1),this.numUpdates=0,this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),r.CmpApiModel.cmpId=e,r.CmpApiModel.cmpVersion=t,r.CmpApiModel.tcfPolicyVersion=2,this.isServiceSpecific=!!n,this.callResponder=new i.CallResponder(o)}t.CmpApi=n},476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApiModel=void 0;var o=n(3619),n=n(6173),n=(r.reset=function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=o.CmpStatus.LOADING,this.disabled=!1,this.displayStatus=o.DisplayStatus.HIDDEN,this.eventQueue.clear()},r.apiVersion="2",r.eventQueue=new n.EventListenerQueue,r.cmpStatus=o.CmpStatus.LOADING,r.disabled=!1,r.displayStatus=o.DisplayStatus.HIDDEN,r);function r(){}t.CmpApiModel=n},3143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventListenerQueue=void 0;var o=n(5244),n=(r.prototype.add=function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++},r.prototype.remove=function(e){return this.eventQueue.delete(e)},r.prototype.exec=function(){this.eventQueue.forEach(function(e,t){new o.GetTCDataCommand(e.callback,e.param,t,e.next)})},r.prototype.clear=function(){this.queueNumber=0,this.eventQueue.clear()},Object.defineProperty(r.prototype,"size",{get:function(){return this.eventQueue.size},enumerable:!1,configurable:!0}),r);function r(){this.eventQueue=new Map,this.queueNumber=0}t.EventListenerQueue=n},3965:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedVersions=void 0;var n=(o.has=function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)},o.set_=new Set([0,2,void 0,null]),o);function o(){}t.SupportedVersions=n},145:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AddEventListenerCommand=void 0;var i,s=n(476),n=n(5244),r=(i=n.GetTCDataCommand,r(a,i),a.prototype.respond=function(){this.listenerId=s.CmpApiModel.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),i.prototype.respond.call(this)},a);function a(){return null!==i&&i.apply(this,arguments)||this}t.AddEventListenerCommand=r},7110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0;var n=(o.prototype.invokeCallback=function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)},o);function o(e,t,n,o){this.success=!0,Object.assign(this,{callback:e,listenerId:n,param:t,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}}t.Command=n},4395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandMap=void 0;var o,r,i,s,a=n(8785),c=n(5244),u=n(8759),l=n(2947),d=n(145),p=n(6467),h=n(131),p=(o=h.TCFCommand.PING,r=h.TCFCommand.GET_TC_DATA,i=h.TCFCommand.GET_IN_APP_TC_DATA,s=h.TCFCommand.GET_VENDOR_LIST,n=h.TCFCommand.ADD_EVENT_LISTENER,h=h.TCFCommand.REMOVE_EVENT_LISTENER,f[o]=a.PingCommand,f[r]=c.GetTCDataCommand,f[i]=u.GetInAppTCDataCommand,f[s]=l.GetVendorListCommand,f[n]=d.AddEventListenerCommand,f[h]=p.RemoveEventListenerCommand,f);function f(){}t.CommandMap=p},8759:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GetInAppTCDataCommand=void 0;var i,s=n(5244),a=n(2811),r=(i=s.GetTCDataCommand,r(c,i),c.prototype.respond=function(){this.throwIfParamInvalid(),this.invokeCallback(new a.InAppTCData(this.param))},c);function c(){return null!==i&&i.apply(this,arguments)||this}t.GetInAppTCDataCommand=r},5244:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GetTCDataCommand=void 0;var i,s=n(7110),a=n(2811),r=(i=s.Command,r(c,i),c.prototype.respond=function(){this.throwIfParamInvalid(),this.invokeCallback(new a.TCData(this.param,this.listenerId))},c.prototype.throwIfParamInvalid=function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")},c);function c(){return null!==i&&i.apply(this,arguments)||this}t.GetTCDataCommand=r},2947:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GetVendorListCommand=void 0;var i,s=n(476),a=n(7110),c=n(3406),r=(i=a.Command,r(u,i),u.prototype.respond=function(){var e,t=this,n=s.CmpApiModel.tcModel,o=n.vendorListVersion;void 0===this.param&&(this.param=o),(e=this.param===o&&n.gvl?n.gvl:new c.GVL(this.param)).readyPromise.then(function(){t.invokeCallback(e.getJson())})},u);function u(){return null!==i&&i.apply(this,arguments)||this}t.GetVendorListCommand=r},8785:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PingCommand=void 0;var i,s=n(2811),n=n(7110),r=(i=n.Command,r(a,i),a.prototype.respond=function(){this.invokeCallback(new s.Ping)},a);function a(){return null!==i&&i.apply(this,arguments)||this}t.PingCommand=r},6467:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveEventListenerCommand=void 0;var i,s=n(476),n=n(7110),r=(i=n.Command,r(a,i),a.prototype.respond=function(){this.invokeCallback(s.CmpApiModel.eventQueue.remove(this.param))},a);function a(){return null!==i&&i.apply(this,arguments)||this}t.RemoveEventListenerCommand=r},131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCFCommand=void 0,(t=t.TCFCommand||(t.TCFCommand={})).PING="ping",t.GET_TC_DATA="getTCData",t.GET_IN_APP_TC_DATA="getInAppTCData",t.GET_VENDOR_LIST="getVendorList",t.ADD_EVENT_LISTENER="addEventListener",t.REMOVE_EVENT_LISTENER="removeEventListener"},1581:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(131),t),r(n(4395),t)},346:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.API_KEY=void 0,r(n(1581),t),r(n(2811),t),r(n(3619),t),r(n(9089),t),r(n(476),t),r(n(3143),t);var i=n(9621);Object.defineProperty(t,"API_KEY",{enumerable:!0,get:function(){return i.API_KEY}})},7629:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Disabled=void 0;var i,s=n(8066),a=n(3619),r=(i=s.Response,r(c,i),c);function c(){var e=null!==i&&i.apply(this,arguments)||this;return e.cmpStatus=a.CmpStatus.ERROR,e}t.Disabled=r},9933:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.InAppTCData=void 0;var a,n=n(2520),r=(a=n.TCData,r(c,a),c.prototype.createVectorField=function(e){return s([],i(e),!1).reduce(function(e,t){return e+(t[1]?"1":"0")},"")},c.prototype.createRestrictions=function(e){var i={};if(0<e.numRestrictions){var t=e.getMaxVendorId();e.getRestrictions().forEach(function(e){i[e.purposeId.toString()]="_".repeat(t)});for(var n=0;n<t;n++)!function(r){e.getRestrictions(r+1).forEach(function(e){var t=e.restrictionType.toString(),n=e.purposeId.toString(),o=i[n].substr(0,r),e=i[n].substr(r+1);i[n]=o+t+e})}(n)}return i},c);function c(e){e=a.call(this,e)||this;return delete e.outOfBand,e}t.InAppTCData=r},9364:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Ping=void 0;var i,s=n(476),n=n(8066),r=(i=n.Response,r(a,i),a);function a(){var e=i.call(this)||this;return e.cmpLoaded=!0,e.cmpStatus=s.CmpApiModel.cmpStatus,e.displayStatus=s.CmpApiModel.displayStatus,e.apiVersion=String(s.CmpApiModel.apiVersion),s.CmpApiModel.tcModel&&s.CmpApiModel.tcModel.vendorListVersion&&(e.gvlVersion=+s.CmpApiModel.tcModel.vendorListVersion),e}t.Ping=r},8066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;var o=n(476);t.Response=function(){this.cmpId=o.CmpApiModel.cmpId,this.cmpVersion=o.CmpApiModel.cmpVersion,this.gdprApplies=o.CmpApiModel.gdprApplies,this.tcfPolicyVersion=o.CmpApiModel.tcfPolicyVersion}},2520:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TCData=void 0;var a,c=n(476),n=n(8066),r=(a=n.Response,r(u,a),u.prototype.createRestrictions=function(t){var o={};if(0<t.numRestrictions)for(var e=t.getMaxVendorId(),n=1;n<=e;n++)!function(e){var n=e.toString();t.getRestrictions(e).forEach(function(e){var t=e.purposeId.toString();o[t]||(o[t]={}),o[t][n]=e.restrictionType})}(n);return o},u.prototype.createVectorField=function(n,e){return e?e.reduce(function(e,t){return e[String(t)]=n.has(Number(t)),e},{}):s([],i(n),!1).reduce(function(e,t){return e[t[0].toString(10)]=t[1],e},{})},u);function u(e,t){var n=a.call(this)||this;return n.eventStatus=c.CmpApiModel.eventStatus,n.cmpStatus=c.CmpApiModel.cmpStatus,n.listenerId=t,c.CmpApiModel.gdprApplies&&(t=c.CmpApiModel.tcModel,n.tcString=c.CmpApiModel.tcString,n.isServiceSpecific=t.isServiceSpecific,n.useNonStandardStacks=t.useNonStandardStacks,n.purposeOneTreatment=t.purposeOneTreatment,n.publisherCC=t.publisherCountryCode,n.outOfBand={allowedVendors:n.createVectorField(t.vendorsAllowed,e),disclosedVendors:n.createVectorField(t.vendorsDisclosed,e)},n.purpose={consents:n.createVectorField(t.purposeConsents),legitimateInterests:n.createVectorField(t.purposeLegitimateInterests)},n.vendor={consents:n.createVectorField(t.vendorConsents,e),legitimateInterests:n.createVectorField(t.vendorLegitimateInterests,e)},n.specialFeatureOptins=n.createVectorField(t.specialFeatureOptins),n.publisher={consents:n.createVectorField(t.publisherConsents),legitimateInterests:n.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:n.createVectorField(t.publisherCustomConsents),legitimateInterests:n.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:n.createRestrictions(t.publisherRestrictions)}),n}t.TCData=r},2811:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7629),t),r(n(9933),t),r(n(9364),t),r(n(8066),t),r(n(2520),t)},1865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmpStatus=void 0,(t=t.CmpStatus||(t.CmpStatus={})).STUB="stub",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"},3042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayStatus=void 0,(t=t.DisplayStatus||(t.DisplayStatus={})).VISIBLE="visible",t.HIDDEN="hidden",t.DISABLED="disabled"},63:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStatus=void 0,(t=t.EventStatus||(t.EventStatus={})).TC_LOADED="tcloaded",t.CMP_UI_SHOWN="cmpuishown",t.USER_ACTION_COMPLETE="useractioncomplete"},3619:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1865),t),r(n(3042),t),r(n(63),t)},6542:function(e,t){"use strict";var l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cloneable=void 0;var n=(o.prototype.clone=function(){var n=this,o=new this.constructor;return Object.keys(this).forEach(function(e){var t=n.deepClone(n[e]);void 0!==t&&(o[e]=t)}),o},o.prototype.deepClone=function(e){var t,n,o=typeof e;if("number"==o||"string"==o||"boolean"==o)return e;if(null!==e&&"object"==o){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var r=[];try{for(var i=l(e),s=i.next();!s.done;s=i.next()){var a=s.value;r.push(this.deepClone(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e instanceof Array?r:new e.constructor(r)}var c,u={};for(c in e)e.hasOwnProperty(c)&&(u[c]=this.deepClone(e[c]));return u}},o);function o(){}t.Cloneable=n},4892:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,r)}i((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,o){var r,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],i=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GVL=void 0;var i,c=n(6542),u=n(6468),l=n(5761),n=n(8663),n=(i=c.Cloneable,r(d,i),Object.defineProperty(d,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new u.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");0<e.length&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!1,configurable:!0}),d.emptyLanguageCache=function(e){var t=!1;return void 0===e&&0<d.LANGUAGE_CACHE.size?(d.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(d.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t},d.emptyCache=function(e){var t=!1;return Number.isInteger(e)&&0<=e?(d.CACHE.delete(e),t=!0):void 0===e&&(d.CACHE=new Map,t=!0),t},d.prototype.cacheLanguage=function(){d.LANGUAGE_CACHE.has(this.lang_)||d.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},d.prototype.fetchJson=function(o){return s(this,void 0,void 0,function(){var t,n;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.populate,[4,l.Json.fetch(o)];case 1:return t.apply(this,[e.sent()]),[3,3];case 2:throw n=e.sent(),new u.GVLError(n.message);case 3:return[2]}})})},d.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},d.prototype.changeLanguage=function(i){return s(this,void 0,void 0,function(){var t,n,o,r;return a(this,function(e){switch(e.label){case 0:if(r=i.toUpperCase(),!d.consentLanguages.has(r))return[3,6];if(r===this.lang_)return[3,5];if(this.lang_=r,!d.LANGUAGE_CACHE.has(r))return[3,1];for(n in t=d.LANGUAGE_CACHE.get(r))t.hasOwnProperty(n)&&(this[n]=t[n]);return[3,5];case 1:o=d.baseUrl+d.languageFilename.replace("[LANG]",i),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.fetchJson(o)];case 3:return e.sent(),this.cacheLanguage(),[3,5];case 4:throw r=e.sent(),new u.GVLError("unable to load language: "+r.message);case 5:return[3,7];case 6:throw new u.GVLError("unsupported language ".concat(i));case 7:return[2]}})})},Object.defineProperty(d.prototype,"language",{get:function(){return this.lang_},enumerable:!1,configurable:!0}),d.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},d.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&d.CACHE.set(d.LATEST_CACHE_KEY,this.getJson()),d.CACHE.has(this.vendorListVersion)||d.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},d.prototype.mapVendors=function(e){var o=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){o.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){o.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){o.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){o.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,t){var n=o.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach(function(e){o.byPurposeVendorMap[String(e)].consent.add(t)}),n.specialPurposes.forEach(function(e){o.bySpecialPurposeVendorMap[String(e)].add(t)}),n.legIntPurposes.forEach(function(e){o.byPurposeVendorMap[String(e)].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(function(e){o.byPurposeVendorMap[String(e)].flexible.add(t)}),n.features.forEach(function(e){o.byFeatureVendorMap[String(e)].add(t)}),n.specialFeatures.forEach(function(e){o.bySpecialFeatureVendorMap[String(e)].add(t)}),e[t]=n),e},{})},d.prototype.getFilteredVendors=function(e,t,n,o){var r=this,i=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(o?"Special":"")+i+"VendorMap"][String(t)]).forEach(function(e){s[String(e)]=r.vendors[String(e)]}),s},d.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},d.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},d.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},d.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},d.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},d.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(d.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!1,configurable:!0}),d.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(d.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!1,configurable:!0}),d.prototype.clone=function(){var e=new d(this.getJson());return this.lang_!==d.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e},d.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},d.LANGUAGE_CACHE=new Map,d.CACHE=new Map,d.LATEST_CACHE_KEY=0,d.DEFAULT_LANGUAGE="EN",d.consentLanguages=new n.ConsentLanguages,d.latestFilename="vendor-list.json",d.versionedFilename="archives/vendor-list-v[VERSION].json",d.languageFilename="purposes-[LANG].json",d);function d(e){var t=i.call(this)||this;t.isReady_=!1,t.isLatest=!1;var n=d.baseUrl;if(t.lang_=d.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new u.GVLError("must specify GVL.baseUrl before loading GVL json");0<e?d.CACHE.has(e=e)?(t.populate(d.CACHE.get(e)),t.readyPromise=Promise.resolve()):(n+=d.versionedFilename.replace("[VERSION]",String(e)),t.readyPromise=t.fetchJson(n)):d.CACHE.has(d.LATEST_CACHE_KEY)?(t.populate(d.CACHE.get(d.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+d.latestFilename))}return t}t.GVL=n},5761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Json=void 0;var n=(o.absCall=function(e,r,i,s){return new Promise(function(t,n){var o=new XMLHttpRequest;o.withCredentials=i,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(200<=o.status&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}t(e)}else n(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))}),o.addEventListener("error",function(){n(new Error("error"))}),o.addEventListener("abort",function(){n(new Error("aborted"))}),null===r?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=s,o.ontimeout=function(){n(new Error("Timeout "+s+"ms "+e))},o.send(r)})},o.post=function(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=0),this.absCall(e,JSON.stringify(t),n,o)},o.fetch=function(e,t,n){return this.absCall(e,null,t=void 0===t?!1:t,n=void 0===n?0:n)},o);function o(){}t.Json=n},3769:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TCModel=void 0;var i,s=n(6542),a=n(6468),c=n(4892),u=n(8663),r=(i=s.Cloneable,r(l,i),Object.defineProperty(l.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){c.GVL.isInstanceOf(e)||(e=new c.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&1<e))throw new a.TCModelError("cmpId",e);this.cmpId_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&-1<e))throw new a.TCModelError("cmpVersion",e);this.cmpVersion_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&-1<e))throw new a.TCModelError("consentScreen",e);this.consentScreen_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new a.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)>>0)<0)throw new a.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new a.TCModelError("policyVersion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!1,configurable:!0}),l.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},l.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},l.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},l.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},l.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},l.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},l.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},l.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},l.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},l.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},l.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},l.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},l.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},l.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},l.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},l.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(l.prototype,"numCustomPurposes",{get:function(){var e,t=this.numCustomPurposes_;return"object"==typeof this.customPurposes&&(e=Object.keys(this.customPurposes).sort(function(e,t){return Number(e)-Number(t)}),t=parseInt(e.pop(),10)),t},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new a.TCModelError("numCustomPurposes",e)},enumerable:!1,configurable:!0}),l.prototype.updated=function(){var e=new Date,e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=e,this.lastUpdated=e},l.consentLanguages=c.GVL.consentLanguages,l);function l(e){var t=i.call(this)||this;return t.isServiceSpecific_=!1,t.supportOOB_=!0,t.useNonStandardStacks_=!1,t.purposeOneTreatment_=!1,t.publisherCountryCode_="AA",t.version_=2,t.consentScreen_=0,t.policyVersion_=2,t.consentLanguage_="EN",t.cmpId_=0,t.cmpVersion_=0,t.vendorListVersion_=0,t.numCustomPurposes_=0,t.specialFeatureOptins=new u.Vector,t.purposeConsents=new u.Vector,t.purposeLegitimateInterests=new u.Vector,t.publisherConsents=new u.Vector,t.publisherLegitimateInterests=new u.Vector,t.publisherCustomConsents=new u.Vector,t.publisherCustomLegitimateInterests=new u.Vector,t.vendorConsents=new u.Vector,t.vendorLegitimateInterests=new u.Vector,t.vendorsDisclosed=new u.Vector,t.vendorsAllowed=new u.Vector,t.publisherRestrictions=new u.PurposeRestrictionVector,e&&(t.gvl=e),t.updated(),t}t.TCModel=r},5064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCString=void 0;var a=n(2368),c=n(8663),u=n(6776),l=n(3769),n=(o.encode=function(o,e){var r,i="";return o=a.SemanticPreEncoder.process(o,e),(r=Array.isArray(null==e?void 0:e.segments)?e.segments:new a.SegmentSequence(o,e)[""+o.version]).forEach(function(e,t){var n="";t<r.length-1&&(n="."),i+=a.SegmentEncoder.encode(o,e)+n}),i},o.decode=function(e,t){var n=e.split("."),o=n.length;t=t||new l.TCModel;for(var r=0;r<o;r++){var i=n[r],s=a.Base64Url.decode(i.charAt(0)).substr(0,a.BitLength.segmentType),s=c.SegmentIDs.ID_TO_KEY[u.IntEncoder.decode(s,a.BitLength.segmentType).toString()];a.SegmentEncoder.decode(i,t,s)}return t},o);function o(){}t.TCString=n},4952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base64Url=void 0;var r=n(6468),n=(o.encode=function(e){if(!/^[0-1]+$/.test(e))throw new r.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",o=0;o<e.length;o+=this.BASIS)n+=this.DICT[parseInt(e.substr(o,this.BASIS),2)];return n},o.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new r.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var o=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-o.length)+o}return t},o.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",o.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),o.BASIS=6,o.LCM=24,o);function o(){}t.Base64Url=n},9093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitLength=void 0;var o,r,i,s,a,c,u,l,d,p,h,f,g,v,_,y,m=n(8663),m=(o=m.Fields.cmpId,r=m.Fields.cmpVersion,i=m.Fields.consentLanguage,s=m.Fields.consentScreen,a=m.Fields.created,c=m.Fields.isServiceSpecific,u=m.Fields.lastUpdated,l=m.Fields.policyVersion,d=m.Fields.publisherCountryCode,p=m.Fields.publisherLegitimateInterests,h=m.Fields.publisherConsents,f=m.Fields.purposeConsents,g=m.Fields.purposeLegitimateInterests,v=m.Fields.purposeOneTreatment,_=m.Fields.specialFeatureOptins,y=m.Fields.useNonStandardStacks,n=m.Fields.vendorListVersion,m=m.Fields.version,b[o]=12,b[r]=12,b[i]=12,b[s]=6,b[a]=36,b[c]=1,b[u]=36,b[l]=6,b[d]=12,b[p]=24,b[h]=24,b[f]=24,b[g]=24,b[v]=1,b[_]=12,b[y]=1,b[n]=12,b[m]=6,b.anyBoolean=1,b.encodingType=1,b.maxId=16,b.numCustomPurposes=6,b.numEntries=12,b.numRestrictions=12,b.purposeId=6,b.restrictionType=2,b.segmentType=3,b.singleOrRange=1,b.vendorId=16,b);function b(){}t.BitLength=m},4818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentEncoder=void 0;var o=n(4952),u=n(9093),l=n(9999),r=n(1148),d=n(6468),p=n(8927),h=n(8663),r=(i.encode=function(r,i){var e,s=this;try{e=this.fieldSequence[String(r.version)][i]}catch(e){throw new d.EncodingError("Unable to encode version: ".concat(r.version,", segment: ").concat(i))}var a="";i!==h.Segment.CORE&&(a=l.IntEncoder.encode(h.SegmentIDs.KEY_TO_ID[i],u.BitLength.segmentType));var c=(0,l.FieldEncoderMap)();return e.forEach(function(t){var e=r[t],n=c[t],o=u.BitLength[t];void 0===o&&s.isPublisherCustom(t)&&(o=Number(r[p.Fields.numCustomPurposes]));try{a+=n.encode(e,o)}catch(e){throw new d.EncodingError("Error encoding ".concat(i,"->").concat(t,": ").concat(e.message))}}),o.Base64Url.encode(a)},i.decode=function(e,r,t){var i=this,s=o.Base64Url.decode(e),a=0;t===h.Segment.CORE&&(r.version=l.IntEncoder.decode(s.substr(a,u.BitLength[p.Fields.version]),u.BitLength[p.Fields.version])),t!==h.Segment.CORE&&(a+=u.BitLength.segmentType);var t=this.fieldSequence[String(r.version)][t],c=(0,l.FieldEncoderMap)();return t.forEach(function(e){var t=c[e],n=u.BitLength[e];if(0!==(n=void 0===n&&i.isPublisherCustom(e)?Number(r[p.Fields.numCustomPurposes]):n)){var o=s.substr(a,n);if(t===l.VendorVectorEncoder?r[e]=t.decode(o,r.version):r[e]=t.decode(o,n),Number.isInteger(n))a+=n;else{if(!Number.isInteger(r[e].bitLength))throw new d.DecodingError(e);a+=r[e].bitLength}}}),r},i.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},i.fieldSequence=new r.FieldSequence,i);function i(){}t.SegmentEncoder=r},4864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticPreEncoder=void 0;var o=n(6468),l=n(8663),n=(r.process=function(e,t){var n=e.gvl;if(!n)throw new o.EncodingError("Unable to encode TCModel without a GVL");if(!n.isReady)throw new o.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),0<(null==t?void 0:t.version)&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;t=e.version-1;if(!this.processor[t])throw new o.EncodingError("Invalid version: ".concat(e.version));return this.processor[t](e,n)},r.processor=[function(e){return e},function(c,u){c.publisherRestrictions.gvl=u,c.purposeLegitimateInterests.unset(1);var e=new Map;return e.set("legIntPurposes",c.vendorLegitimateInterests),e.set("purposes",c.vendorConsents),e.forEach(function(s,a){s.forEach(function(e,t){if(e){e=u.vendors[t];if(!e||e.deletedDate)s.unset(t);else if(0===e[a].length&&!("legIntPurposes"===a&&0===e.purposes.length&&0===e.legIntPurposes.length&&0<e.specialPurposes.length))if(c.isServiceSpecific)if(0===e.flexiblePurposes.length)s.unset(t);else{for(var n=c.publisherRestrictions.getRestrictions(t),o=!1,r=0,i=n.length;r<i&&!o;r++)o=n[r].restrictionType===l.RestrictionType.REQUIRE_CONSENT&&"purposes"===a||n[r].restrictionType===l.RestrictionType.REQUIRE_LI&&"legIntPurposes"===a;o||s.unset(t)}else s.unset(t)}})}),c.vendorsDisclosed.set(u.vendors),c}],r);function r(){}t.SemanticPreEncoder=n},5494:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanEncoder=void 0;var n=(o.encode=function(e){return String(Number(e))},o.decode=function(e){return"1"===e},o);function o(){}t.BooleanEncoder=n},7116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateEncoder=void 0;var o=n(6776),r=n(6468),n=(i.encode=function(e,t){return o.IntEncoder.encode(Math.round(e.getTime()/100),t)},i.decode=function(e,t){if(t!==e.length)throw new r.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*o.IntEncoder.decode(e,t)),n},i);function i(){}t.DateEncoder=n},331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEncoderMap=void 0;var o=n(8663),r=n(5494),i=n(7116),s=n(1830),a=n(6776),c=n(206),u=n(9148),l=n(5793);t.FieldEncoderMap=function(){var e;return(e={})[o.Fields.version]=a.IntEncoder,e[o.Fields.created]=i.DateEncoder,e[o.Fields.lastUpdated]=i.DateEncoder,e[o.Fields.cmpId]=a.IntEncoder,e[o.Fields.cmpVersion]=a.IntEncoder,e[o.Fields.consentScreen]=a.IntEncoder,e[o.Fields.consentLanguage]=c.LangEncoder,e[o.Fields.vendorListVersion]=a.IntEncoder,e[o.Fields.policyVersion]=a.IntEncoder,e[o.Fields.isServiceSpecific]=r.BooleanEncoder,e[o.Fields.useNonStandardStacks]=r.BooleanEncoder,e[o.Fields.specialFeatureOptins]=s.FixedVectorEncoder,e[o.Fields.purposeConsents]=s.FixedVectorEncoder,e[o.Fields.purposeLegitimateInterests]=s.FixedVectorEncoder,e[o.Fields.purposeOneTreatment]=r.BooleanEncoder,e[o.Fields.publisherCountryCode]=c.LangEncoder,e[o.Fields.vendorConsents]=l.VendorVectorEncoder,e[o.Fields.vendorLegitimateInterests]=l.VendorVectorEncoder,e[o.Fields.publisherRestrictions]=u.PurposeRestrictionVectorEncoder,e.segmentType=a.IntEncoder,e[o.Fields.vendorsDisclosed]=l.VendorVectorEncoder,e[o.Fields.vendorsAllowed]=l.VendorVectorEncoder,e[o.Fields.publisherConsents]=s.FixedVectorEncoder,e[o.Fields.publisherLegitimateInterests]=s.FixedVectorEncoder,e[o.Fields.numCustomPurposes]=a.IntEncoder,e[o.Fields.publisherCustomConsents]=s.FixedVectorEncoder,e[o.Fields.publisherCustomLegitimateInterests]=s.FixedVectorEncoder,e}},1830:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedVectorEncoder=void 0;var r=n(5494),i=n(6468),s=n(8663),n=(o.encode=function(e,t){for(var n="",o=1;o<=t;o++)n+=r.BooleanEncoder.encode(e.has(o));return n},o.decode=function(e,t){if(e.length!==t)throw new i.DecodingError("bitfield encoding length mismatch");for(var n=new s.Vector,o=1;o<=t;o++)r.BooleanEncoder.decode(e[o-1])&&n.set(o);return n.bitLength=e.length,n},o);function o(){}t.FixedVectorEncoder=n},6776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntEncoder=void 0;var o=n(6468),n=(r.encode=function(e,t){var n;if((n=(e="string"==typeof e?parseInt(e,10):e).toString(2)).length>t||e<0)throw new o.EncodingError("".concat(e," too large to encode into ").concat(t));return n=n.length<t?"0".repeat(t-n.length)+n:n},r.decode=function(e,t){if(t!==e.length)throw new o.DecodingError("invalid bit length");return parseInt(e,2)},r);function r(){}t.IntEncoder=n},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangEncoder=void 0;var r=n(6776),i=n(6468),n=(o.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,o=e.charCodeAt(1)-65;if(n<0||25<n||o<0||25<o)throw new i.EncodingError("invalid language code: ".concat(e));if(t%2==1)throw new i.EncodingError("numBits must be even, ".concat(t," is not valid"));return r.IntEncoder.encode(n,t/=2)+r.IntEncoder.encode(o,t)},o.decode=function(e,t){if(t!==e.length||e.length%2)throw new i.DecodingError("invalid bit length for language");var n=e.length/2,t=r.IntEncoder.decode(e.slice(0,n),n)+65,n=r.IntEncoder.decode(e.slice(n),n)+65;return String.fromCharCode(t)+String.fromCharCode(n)},o);function o(){}t.LangEncoder=n},9148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestrictionVectorEncoder=void 0;var f=n(9093),g=n(5494),v=n(6468),_=n(6776),y=n(8663),n=(o.encode=function(u){var n=_.IntEncoder.encode(u.numRestrictions,f.BitLength.numRestrictions);return u.isEmpty()||u.getRestrictions().forEach(function(e){n+=_.IntEncoder.encode(e.purposeId,f.BitLength.purposeId),n+=_.IntEncoder.encode(e.restrictionType,f.BitLength.restrictionType);for(var r=u.getVendors(e),i=r.length,s=0,a=0,c="",t=0;t<i;t++)!function(e){var t=r[e];0===a&&(s++,a=t);var n=r[i-1],o=u.gvl.vendorIds;(e===i-1||r[e+1]>function(e){for(;++e<=n&&!o.has(e););return e}(t))&&(e=!(t===a),c+=g.BooleanEncoder.encode(e),c+=_.IntEncoder.encode(a,f.BitLength.vendorId),e&&(c+=_.IntEncoder.encode(t,f.BitLength.vendorId)),a=0)}(t);n+=_.IntEncoder.encode(s,f.BitLength.numEntries),n+=c}),n},o.decode=function(e){var t=0,n=new y.PurposeRestrictionVector,o=_.IntEncoder.decode(e.substr(t,f.BitLength.numRestrictions),f.BitLength.numRestrictions);t+=f.BitLength.numRestrictions;for(var r=0;r<o;r++){var i=_.IntEncoder.decode(e.substr(t,f.BitLength.purposeId),f.BitLength.purposeId);t+=f.BitLength.purposeId;var s=_.IntEncoder.decode(e.substr(t,f.BitLength.restrictionType),f.BitLength.restrictionType);t+=f.BitLength.restrictionType;var a=new y.PurposeRestriction(i,s),c=_.IntEncoder.decode(e.substr(t,f.BitLength.numEntries),f.BitLength.numEntries);t+=f.BitLength.numEntries;for(var u=0;u<c;u++){var l=g.BooleanEncoder.decode(e.substr(t,f.BitLength.anyBoolean));t+=f.BitLength.anyBoolean;var d=_.IntEncoder.decode(e.substr(t,f.BitLength.vendorId),f.BitLength.vendorId);if(t+=f.BitLength.vendorId,l){var p=_.IntEncoder.decode(e.substr(t,f.BitLength.vendorId),f.BitLength.vendorId);if(t+=f.BitLength.vendorId,p<d)throw new v.DecodingError("Invalid RangeEntry: endVendorId ".concat(p," is less than ").concat(d));for(var h=d;h<=p;h++)n.add(h,a)}else n.add(d,a)}}return n.bitLength=t,n},o);function o(){}t.PurposeRestrictionVectorEncoder=n},3759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorEncodingType=void 0,(t=t.VectorEncodingType||(t.VectorEncodingType={}))[t.FIELD=0]="FIELD",t[t.RANGE=1]="RANGE"},5793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VendorVectorEncoder=void 0;var p=n(8663),h=n(2368),f=n(6776),g=n(5494),v=n(1830),_=n(3759),y=n(6468),n=(o.encode=function(n){var o,r=[],i=[],e=f.IntEncoder.encode(n.maxId,h.BitLength.maxId),s="",t=h.BitLength.maxId+h.BitLength.encodingType,a=t+n.maxId,c=2*h.BitLength.vendorId+h.BitLength.singleOrRange+h.BitLength.numEntries,u=t+h.BitLength.numEntries;return n.forEach(function(e,t){s+=g.BooleanEncoder.encode(e),(o=n.maxId>c&&u<a)&&e&&(n.has(t+1)?0===i.length&&(i.push(t),u+=h.BitLength.singleOrRange,u+=h.BitLength.vendorId):(i.push(t),u+=h.BitLength.vendorId,r.push(i),i=[]))}),o?(e+=String(_.VectorEncodingType.RANGE),e+=this.buildRangeEncoding(r)):(e+=String(_.VectorEncodingType.FIELD),e+=s),e},o.decode=function(e,t){var n,o=0,r=f.IntEncoder.decode(e.substr(o,h.BitLength.maxId),h.BitLength.maxId);o+=h.BitLength.maxId;var i=f.IntEncoder.decode(e.charAt(o),h.BitLength.encodingType);if(o+=h.BitLength.encodingType,i===_.VectorEncodingType.RANGE){if(n=new p.Vector,1===t){if("1"===e.substr(o,1))throw new y.DecodingError("Unable to decode default consent=1");o++}var s=f.IntEncoder.decode(e.substr(o,h.BitLength.numEntries),h.BitLength.numEntries);o+=h.BitLength.numEntries;for(var a=0;a<s;a++){var c=g.BooleanEncoder.decode(e.charAt(o));o+=h.BitLength.singleOrRange;var u=f.IntEncoder.decode(e.substr(o,h.BitLength.vendorId),h.BitLength.vendorId);if(o+=h.BitLength.vendorId,c){var l=f.IntEncoder.decode(e.substr(o,h.BitLength.vendorId),h.BitLength.vendorId);o+=h.BitLength.vendorId;for(var d=u;d<=l;d++)n.set(d)}else n.set(u)}}else{t=e.substr(o,r);o+=r,n=v.FixedVectorEncoder.decode(t,r)}return n.bitLength=o,n},o.buildRangeEncoding=function(e){var t=e.length,n=f.IntEncoder.encode(t,h.BitLength.numEntries);return e.forEach(function(e){var t=1===e.length;n+=g.BooleanEncoder.encode(!t),n+=f.IntEncoder.encode(e[0],h.BitLength.vendorId),t||(n+=f.IntEncoder.encode(e[1],h.BitLength.vendorId))}),n},o);function o(){}t.VendorVectorEncoder=n},9999:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5494),t),r(n(7116),t),r(n(331),t),r(n(1830),t),r(n(6776),t),r(n(206),t),r(n(9148),t),r(n(3759),t),r(n(5793),t)},2368:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4952),t),r(n(9093),t),r(n(4818),t),r(n(1123),t),r(n(4864),t),r(n(9999),t),r(n(1148),t)},6857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldSequence=void 0;var o=n(8663);t.FieldSequence=function(){var e;this[1]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.purposeConsents,o.Fields.vendorConsents],e),this[2]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.policyVersion,o.Fields.isServiceSpecific,o.Fields.useNonStandardStacks,o.Fields.specialFeatureOptins,o.Fields.purposeConsents,o.Fields.purposeLegitimateInterests,o.Fields.purposeOneTreatment,o.Fields.publisherCountryCode,o.Fields.vendorConsents,o.Fields.vendorLegitimateInterests,o.Fields.publisherRestrictions],e[o.Segment.PUBLISHER_TC]=[o.Fields.publisherConsents,o.Fields.publisherLegitimateInterests,o.Fields.numCustomPurposes,o.Fields.publisherCustomConsents,o.Fields.publisherCustomLegitimateInterests],e[o.Segment.VENDORS_ALLOWED]=[o.Fields.vendorsAllowed],e[o.Segment.VENDORS_DISCLOSED]=[o.Fields.vendorsDisclosed],e)}},912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentSequence=void 0;var o=n(8663);t.SegmentSequence=function(e,t){this[1]=[o.Segment.CORE],this[2]=[o.Segment.CORE],2===e.version&&(e.isServiceSpecific?this[2].push(o.Segment.PUBLISHER_TC):((t=!(!t||!t.isForVendors))&&!0!==e[o.Fields.supportOOB]||this[2].push(o.Segment.VENDORS_DISCLOSED),t&&(e[o.Fields.supportOOB]&&0<e[o.Fields.vendorsAllowed].size&&this[2].push(o.Segment.VENDORS_ALLOWED),this[2].push(o.Segment.PUBLISHER_TC))))}},4020:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1148:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6857),t),r(n(912),t),r(n(4020),t)},5709:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DecodingError=void 0;var r,n=(r=Error,n(i,r),i);function i(e){e=r.call(this,e)||this;return e.name="DecodingError",e}t.DecodingError=n},9094:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingError=void 0;var r,n=(r=Error,n(i,r),i);function i(e){e=r.call(this,e)||this;return e.name="EncodingError",e}t.EncodingError=n},7849:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GVLError=void 0;var r,n=(r=Error,n(i,r),i);function i(e){e=r.call(this,e)||this;return e.name="GVLError",e}t.GVLError=n},6325:function(e,t){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TCModelError=void 0;var r,n=(r=Error,n(i,r),i);function i(e,t,n){void 0===n&&(n="");n=r.call(this,"invalid value ".concat(t," passed for ").concat(e," ").concat(n))||this;return n.name="TCModelError",n}t.TCModelError=n},6468:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5709),t),r(n(9094),t),r(n(7849),t),r(n(6325),t)},3406:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2368),t),r(n(6468),t),r(n(8663),t),r(n(6542),t),r(n(4892),t),r(n(5761),t),r(n(3769),t),r(n(5064),t)},3301:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BinarySearchTree=void 0;var i,n=n(6542),r=(i=n.Cloneable,r(s,i),s.prototype.getRoot=function(){return this.root},s.prototype.isEmpty=function(){return!this.root},s.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},s.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;t=n.right==t?(n.right=null,e.push(t.value),t.right):(n.right=t).left}else e.push(t.value),t=t.right;return e},s.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},s.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.left||(t=e.value,null);return t},s.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.right||(t=e.value,null);return t},s.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n,o=null,r="left";t;)e<t.value?(t=(o=t).left,r="left"):e>t.value?(t=(o=t).right,r="right"):(t.left||t.right?t.left?t.right?(n=this.min(t.right),this.remove(n,t.right),t.value=n):o?o[r]=t.left:this.root=t.left:o?o[r]=t.right:this.root=t.right:o?o[r]=null:this.root=null,t=null)},s.build=function(e){if(e&&0!==e.length){if(1===e.length)return(t=new s).add(e[0]),t;var t,n=e.length>>1;(t=new s).add(e[n]);var o,r=t.getRoot();return r&&(1+n<e.length&&(o=s.build(e.slice(1+n)),r.right=o?o.getRoot():null),0<n-1&&(n=s.build(e.slice(0,n-1)),r.left=n?n.getRoot():null)),t}return null},s);function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.root=null,e}t.BinarySearchTree=r},6121:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentLanguages=void 0;var n=(o.prototype.has=function(e){return o.langSet.has(e)},o.prototype.forEach=function(e){o.langSet.forEach(e)},Object.defineProperty(o.prototype,"size",{get:function(){return o.langSet.size},enumerable:!1,configurable:!0}),o.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),o);function o(){}t.ConsentLanguages=n},2183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceDisclosureStorageAccessType=void 0,(t=t.DeviceDisclosureStorageAccessType||(t.DeviceDisclosureStorageAccessType={})).COOKIE="cookie",t.WEB="web",t.APP="app"},8927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fields=void 0;var n=(o.cmpId="cmpId",o.cmpVersion="cmpVersion",o.consentLanguage="consentLanguage",o.consentScreen="consentScreen",o.created="created",o.supportOOB="supportOOB",o.isServiceSpecific="isServiceSpecific",o.lastUpdated="lastUpdated",o.numCustomPurposes="numCustomPurposes",o.policyVersion="policyVersion",o.publisherCountryCode="publisherCountryCode",o.publisherCustomConsents="publisherCustomConsents",o.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",o.publisherLegitimateInterests="publisherLegitimateInterests",o.publisherConsents="publisherConsents",o.publisherRestrictions="publisherRestrictions",o.purposeConsents="purposeConsents",o.purposeLegitimateInterests="purposeLegitimateInterests",o.purposeOneTreatment="purposeOneTreatment",o.specialFeatureOptins="specialFeatureOptins",o.useNonStandardStacks="useNonStandardStacks",o.vendorConsents="vendorConsents",o.vendorLegitimateInterests="vendorLegitimateInterests",o.vendorListVersion="vendorListVersion",o.vendorsAllowed="vendorsAllowed",o.vendorsDisclosed="vendorsDisclosed",o.version="version",o);function o(){}t.Fields=n},3263:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3621:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestriction=void 0;var i,s=n(6542),a=n(6468),c=n(701),r=(i=s.Cloneable,r(u,i),u.unHash=function(e){var t=e.split(this.hashSeparator),n=new u;if(2!==t.length)throw new a.TCModelError("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n},Object.defineProperty(u.prototype,"hash",{get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(u.hashSeparator).concat(this.restrictionType)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!1,configurable:!0}),u.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&0<this.purposeId&&(this.restrictionType===c.RestrictionType.NOT_ALLOWED||this.restrictionType===c.RestrictionType.REQUIRE_CONSENT||this.restrictionType===c.RestrictionType.REQUIRE_LI)},u.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},u.hashSeparator="-",u);function u(e,t){var n=i.call(this)||this;return void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}t.PurposeRestriction=r},8730:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestrictionVector=void 0;var i,u=n(3621),l=n(3301),d=n(701),n=n(6542),r=(i=n.Cloneable,r(p,i),p.prototype.has=function(e){return this.map.has(e)},p.prototype.isOkToHave=function(e,t,n){var o,r=!0;if(null!==(o=this.gvl)&&void 0!==o&&o.vendors){var i=this.gvl.vendors[n];if(i)if(e===d.RestrictionType.NOT_ALLOWED)r=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case d.RestrictionType.REQUIRE_CONSENT:r=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case d.RestrictionType.REQUIRE_LI:r=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else r=!1;else r=!1}return r},p.prototype.add=function(e,t){this.isOkToHave(t.restrictionType,t.purposeId,e)&&(t=t.hash,this.has(t)||(this.map.set(t,new l.BinarySearchTree),this.bitLength=0),this.map.get(t).add(e))},p.prototype.restrictPurposeToLegalBasis=function(e){for(var i=this.gvl.vendorIds,t=e.hash,n=function(){var t,e,n;try{for(var o=s(i),r=o.next();!r.done;r=o.next())n=r.value}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n}(),o=c([],a(Array(n).keys()),!1).map(function(e){return e+1}),r=1;r<=n;r++)this.has(t)||(this.map.set(t,l.BinarySearchTree.build(o)),this.bitLength=0),this.map.get(t).add(r)},p.prototype.getVendors=function(e){var t,n=[];return e?(e=e.hash,this.has(e)&&(n=this.map.get(e).get())):(t=new Set,this.map.forEach(function(e){e.get().forEach(function(e){t.add(e)})}),n=Array.from(t)),n},p.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n},p.prototype.vendorHasRestriction=function(e,t){for(var n=!1,o=this.getRestrictions(e),r=0;r<o.length&&!n;r++)n=t.isSameAs(o[r]);return n},p.prototype.getMaxVendorId=function(){var t=0;return this.map.forEach(function(e){t=Math.max(e.max(),t)}),t},p.prototype.getRestrictions=function(n){var o=[];return this.map.forEach(function(e,t){n&&!e.contains(n)||o.push(u.PurposeRestriction.unHash(t))}),o},p.prototype.getPurposes=function(){var n=new Set;return this.map.forEach(function(e,t){n.add(u.PurposeRestriction.unHash(t).purposeId)}),Array.from(n)},p.prototype.remove=function(e,t){var n=t.hash,t=this.map.get(n);t&&(t.remove(e),t.isEmpty()&&(this.map.delete(n),this.bitLength=0))},Object.defineProperty(p.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var o=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(t,e){var n=u.PurposeRestriction.unHash(e);t.get().forEach(function(e){o.isOkToHave(n.restrictionType,n.purposeId,e)||t.remove(e)})}))},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(p.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),p);function p(){var e=null!==i&&i.apply(this,arguments)||this;return e.bitLength=0,e.map=new Map,e}t.PurposeRestrictionVector=r},701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionType=void 0,(t=t.RestrictionType||(t.RestrictionType={}))[t.NOT_ALLOWED=0]="NOT_ALLOWED",t[t.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",t[t.REQUIRE_LI=2]="REQUIRE_LI"},5e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Segment=void 0,(t=t.Segment||(t.Segment={})).CORE="core",t.VENDORS_DISCLOSED="vendorsDisclosed",t.VENDORS_ALLOWED="vendorsAllowed",t.PUBLISHER_TC="publisherTC"},4481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentIDs=void 0;var o=n(5e3),n=(r.ID_TO_KEY=[o.Segment.CORE,o.Segment.VENDORS_DISCLOSED,o.Segment.VENDORS_ALLOWED,o.Segment.PUBLISHER_TC],r.KEY_TO_ID=((n={})[o.Segment.CORE]=0,n[o.Segment.VENDORS_DISCLOSED]=1,n[o.Segment.VENDORS_ALLOWED]=2,n[o.Segment.PUBLISHER_TC]=3,n),r);function r(){}t.SegmentIDs=n},6388:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__generator||function(n,o){var r,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(n,a)}catch(e){t=[6,e],i=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;var s,a=n(6542),c=n(6468),r=(s=a.Cloneable,r(u,s),u.prototype[Symbol.iterator]=function(){var t;return i(this,function(e){switch(e.label){case 0:t=1,e.label=1;case 1:return t<=this.maxId?[4,[t,this.has(t)]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},u.prototype.values=function(){return this.set_.values()},Object.defineProperty(u.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!1,configurable:!0}),u.prototype.has=function(e){return this.set_.has(e)},u.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"==typeof e?this.unset(Object.keys(e).map(function(e){return Number(e)})):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))},u.prototype.isIntMap=function(n){var o=this,e="object"==typeof n;return e&&Object.keys(n).every(function(e){var t=Number.isInteger(parseInt(e,10));return(t=t&&o.isValidNumber(n[e].id))&&void 0!==n[e].name})},u.prototype.isValidNumber=function(e){return 0<parseInt(e,10)},u.prototype.isSet=function(e){var t=!1;return t=e instanceof Set?Array.from(e).every(this.isValidNumber):t},u.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return Number(e)}));else{if(!this.isValidNumber(e))throw new c.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},u.prototype.empty=function(){this.set_=new Set},u.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(u.prototype,"size",{get:function(){return this.set_.size},enumerable:!1,configurable:!0}),u.prototype.setAll=function(e){this.set(e)},u);function u(){var e=null!==s&&s.apply(this,arguments)||this;return e.bitLength=0,e.maxId_=0,e.set_=new Set,e}t.Vector=r},5522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7128:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2596:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5522),t),r(n(9255),t),r(n(4196),t),r(n(7128),t),r(n(5923),t),r(n(955),t),r(n(5269),t),r(n(2959),t),r(n(4537),t)},8663:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){e[o=void 0===o?n:o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3301),t),r(n(6121),t),r(n(8927),t),r(n(3263),t),r(n(5708),t),r(n(3621),t),r(n(8730),t),r(n(4661),t),r(n(2183),t),r(n(701),t),r(n(5e3),t),r(n(4481),t),r(n(6388),t),r(n(2596),t)}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;t=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);r(2707)})();